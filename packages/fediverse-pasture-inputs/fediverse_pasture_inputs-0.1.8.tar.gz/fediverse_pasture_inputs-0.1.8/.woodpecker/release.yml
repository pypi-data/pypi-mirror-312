# SPDX-FileCopyrightText: 2024 Helge
#
# SPDX-License-Identifier: MIT

when:
  - event: tag
    branch: main

steps:
  build:
    image: ghcr.io/astral-sh/uv:python3.11-alpine
    environment:
      UV_PUBLISH_TOKEN: { from_secret: pypi_api_key }
    commands:
      - uv sync
      - uv build
      - uv publish
