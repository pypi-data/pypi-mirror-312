import{s as K,E as z,K as F,D as J,G as Q,H as X,I as x,e as N,a as C,c as S,b as L,C as ue,g as T,f as p,p as v,i as P,h as E,n as te,t as ne,w as De,d as se,x as Ee,z as $e,j as de,l as me,N as ze,B as Re,L as Ue,k as he,a7 as je,o as Fe}from"../chunks/scheduler.DHKinp9c.js";import{S as G,i as W,b as A,d as M,m as V,a as h,t as I,e as y,g as Y,c as Z}from"../chunks/index.D4HIzqHl.js";import{p as ye}from"../chunks/stores.Qt_GRwWt.js";import"../chunks/command.CkilmxE8.js";import{P as Oe,g as Ke,a as Ge,b as We}from"../chunks/PrimaryButton.DzLXt2Zd.js";import{I as re,a as qe,L as Ye}from"../chunks/loader-2.B87_rLOm.js";import{g as ae,a as le,d as Be,D as Ze,e as Ne,c as fe,s as _e,i as Je,b as He,f as Qe,m as ce}from"../chunks/datasetStores.DDvYKux3.js";import{g as Xe,T as ge,C as xe}from"../chunks/TooltipIconButton.DR7glO2E.js";import{g as pe}from"../chunks/entry.CG8SHCrI.js";import{p as et}from"../chunks/pixano.B9u33kEZ.js";const tt=!1,nt=!1,en=Object.freeze(Object.defineProperty({__proto__:null,prerender:tt,ssr:nt},Symbol.toStringTag,{value:"Module"}));function st(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Q(t,s,r,r[3],e?x(s,r[3],n,null):X(r[3]),null)},i(r){e||(h(t,r),e=!0)},o(r){I(t,r),e=!1},d(r){t&&t.d(r)}}}function rt(l){let e,s;const t=[{name:"arrow-left-circle"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[st]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)r=z(r,t[n]);return e=new re({props:r}),{c(){A(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){V(e,n,a),s=!0},p(n,[a]){const c=a&3?ae(t,[t[0],a&2&&le(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function at(l,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return l.$$set=a=>{s(1,e=z(z({},e),F(a))),"$$scope"in a&&s(3,r=a.$$scope)},e=F(e),[n,e,t,r]}class lt extends G{constructor(e){super(),W(this,e,at,rt,K,{})}}function ot(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Q(t,s,r,r[3],e?x(s,r[3],n,null):X(r[3]),null)},i(r){e||(h(t,r),e=!0)},o(r){I(t,r),e=!1},d(r){t&&t.d(r)}}}function it(l){let e,s;const t=[{name:"arrow-left"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[ot]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)r=z(r,t[n]);return e=new re({props:r}),{c(){A(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){V(e,n,a),s=!0},p(n,[a]){const c=a&3?ae(t,[t[0],a&2&&le(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function ct(l,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return l.$$set=a=>{s(1,e=z(z({},e),F(a))),"$$scope"in a&&s(3,r=a.$$scope)},e=F(e),[n,e,t,r]}class ft extends G{constructor(e){super(),W(this,e,ct,it,K,{})}}function ut(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Q(t,s,r,r[3],e?x(s,r[3],n,null):X(r[3]),null)},i(r){e||(h(t,r),e=!0)},o(r){I(t,r),e=!1},d(r){t&&t.d(r)}}}function dt(l){let e,s;const t=[{name:"arrow-right"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[ut]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)r=z(r,t[n]);return e=new re({props:r}),{c(){A(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){V(e,n,a),s=!0},p(n,[a]){const c=a&3?ae(t,[t[0],a&2&&le(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function mt(l,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return l.$$set=a=>{s(1,e=z(z({},e),F(a))),"$$scope"in a&&s(3,r=a.$$scope)},e=F(e),[n,e,t,r]}class _t extends G{constructor(e){super(),W(this,e,mt,dt,K,{})}}function pt(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Q(t,s,r,r[3],e?x(s,r[3],n,null):X(r[3]),null)},i(r){e||(h(t,r),e=!0)},o(r){I(t,r),e=!1},d(r){t&&t.d(r)}}}function ht(l){let e,s;const t=[{name:"database"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[pt]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)r=z(r,t[n]);return e=new re({props:r}),{c(){A(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){V(e,n,a),s=!0},p(n,[a]){const c=a&3?ae(t,[t[0],a&2&&le(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function gt(l,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return l.$$set=a=>{s(1,e=z(z({},e),F(a))),"$$scope"in a&&s(3,r=a.$$scope)},e=F(e),[n,e,t,r]}class $t extends G{constructor(e){super(),W(this,e,gt,ht,K,{})}}function vt(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Q(t,s,r,r[3],e?x(s,r[3],n,null):X(r[3]),null)},i(r){e||(h(t,r),e=!0)},o(r){I(t,r),e=!1},d(r){t&&t.d(r)}}}function bt(l){let e,s;const t=[{name:"home"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[vt]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)r=z(r,t[n]);return e=new re({props:r}),{c(){A(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){V(e,n,a),s=!0},p(n,[a]){const c=a&3?ae(t,[t[0],a&2&&le(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function wt(l,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return l.$$set=a=>{s(1,e=z(z({},e),F(a))),"$$scope"in a&&s(3,r=a.$$scope)},e=F(e),[n,e,t,r]}class It extends G{constructor(e){super(),W(this,e,wt,bt,K,{})}}const kt=""+new URL("../assets/pixano_white.BVKPSmmP.png",import.meta.url).href;function Se(l){var ve;let e,s,t=((ve=l[0])==null?void 0:ve.length)+"",r,n,a,c="datasets",i,f,k,d=l[0].reduce(Le,0)+"",w,D,o,_="items",m,u,b,g,B,O,j,$,R,q;return{c(){e=N("div"),s=N("span"),r=ne(t),n=C(),a=N("span"),a.textContent=c,i=C(),f=N("div"),k=N("span"),w=ne(d),D=C(),o=N("span"),o.textContent=_,m=C(),u=N("div"),b=N("div"),g=N("div"),B=N("input"),O=C(),j=De("svg"),$=De("path"),this.h()},l(H){e=S(H,"DIV",{class:!0});var U=L(e);s=S(U,"SPAN",{class:!0});var ee=L(s);r=se(ee,t),ee.forEach(p),n=T(U),a=S(U,"SPAN",{class:!0,"data-svelte-h":!0}),ue(a)!=="svelte-1royfdz"&&(a.textContent=c),U.forEach(p),i=T(H),f=S(H,"DIV",{class:!0});var oe=L(f);k=S(oe,"SPAN",{class:!0});var be=L(k);w=se(be,d),be.forEach(p),D=T(oe),o=S(oe,"SPAN",{class:!0,"data-svelte-h":!0}),ue(o)!=="svelte-3uc568"&&(o.textContent=_),oe.forEach(p),m=T(H),u=S(H,"DIV",{class:!0});var we=L(u);b=S(we,"DIV",{class:!0});var Ie=L(b);g=S(Ie,"DIV",{class:!0});var ie=L(g);B=S(ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),O=T(ie),j=Ee(ie,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var ke=L(j);$=Ee(ke,"path",{d:!0,fill:!0}),L($).forEach(p),ke.forEach(p),ie.forEach(p),Ie.forEach(p),we.forEach(p),this.h()},h(){v(s,"class","mr-2 text-4xl font-medium"),v(a,"class","text-xl font-medium"),v(e,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(k,"class","mr-2 text-4xl font-medium"),v(o,"class","text-xl font-medium"),v(f,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(B,"id","search-input"),v(B,"type","text"),v(B,"placeholder","Search datasets"),v(B,"class","h-10 pl-10 pr-4 rounded border border-primary-foreground bg-primary-foreground text-white placeholder-white font-medium focus:outline-none"),v($,"d",qe),v($,"fill","white"),v(j,"xmlns","http://www.w3.org/2000/svg"),v(j,"height","48"),v(j,"viewBox","0 -960 960 960"),v(j,"width","48"),v(j,"class","absolute left-3 h-5 w-5 pointer-events-none"),v(g,"class","h-20 relative flex items-center"),v(b,"class","flex items-center space-x-2"),v(u,"class","grow self-end flex flex-row justify-end items-end")},m(H,U){P(H,e,U),E(e,s),E(s,r),E(e,n),E(e,a),P(H,i,U),P(H,f,U),E(f,k),E(k,w),E(f,D),E(f,o),P(H,m,U),P(H,u,U),E(u,b),E(b,g),E(g,B),E(g,O),E(g,j),E(j,$),R||(q=$e(B,"input",l[1]),R=!0)},p(H,U){var ee;U&1&&t!==(t=((ee=H[0])==null?void 0:ee.length)+"")&&de(r,t),U&1&&d!==(d=H[0].reduce(Le,0)+"")&&de(w,d)},d(H){H&&(p(e),p(i),p(f),p(m),p(u)),R=!1,q()}}}function Dt(l){let e,s,t=`<img src="${kt}" alt="Logo Pixano" class="w-7 h-7"/> <span class="text-2xl font-semibold text-slate-50 uppercase">Pixano</span>`,r,n,a=l[0]&&Se(l);return{c(){e=N("header"),s=N("div"),s.innerHTML=t,r=C(),n=N("div"),a&&a.c(),this.h()},l(c){e=S(c,"HEADER",{class:!0});var i=L(e);s=S(i,"DIV",{class:!0,"data-svelte-h":!0}),ue(s)!=="svelte-4zxcmy"&&(s.innerHTML=t),r=T(i),n=S(i,"DIV",{class:!0});var f=L(n);a&&a.l(f),f.forEach(p),i.forEach(p),this.h()},h(){v(s,"class","flex gap-4 items-center"),v(n,"class","flex pt-4 h-36 w-full items-center flex-wrap text-slate-50"),v(e,"class","p-4 w-full h-fit pt-8 px-20 xl:px-60 flex flex-col justify-evenly bg-primary font-Montserrat z-10")},m(c,i){P(c,e,i),E(e,s),E(e,r),E(e,n),a&&a.m(n,null)},p(c,[i]){c[0]?a?a.p(c,i):(a=Se(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:te,o:te,d(c){c&&p(e),a&&a.d()}}}const Le=(l,e)=>l+e.num_items;function Et(l,e,s){let{datasets:t}=e;const r=n=>{const a=n.currentTarget;Be.update((c=[])=>c.map(i=>({...i,isFiltered:!i.name.toLocaleLowerCase().includes(a.value.toLocaleLowerCase())})))};return l.$$set=n=>{"datasets"in n&&s(0,t=n.datasets)},[t,r]}class Nt extends G{constructor(e){super(),W(this,e,Et,Dt,K,{datasets:0})}}const St=(l,e,s)=>{const t=l.findIndex(r=>r===s);if(t!==-1){const r=e==="previous"?t-1:t+1;return r===-1?l[l.length-1]:r===l.length?l[0]:l[r]}},Lt=(l,e)=>{const s=l.findIndex(t=>t===e);return Math.floor(s/Ze)+1},Ce=[{name:"Dashboard",Icon:It},{name:"Dataset",Icon:$t}],{window:Ct}=Xe;function Te(l,e,s){const t=l.slice();return t[20]=e[s].name,t[21]=e[s].Icon,t}function Pe(l){let e,s,t,r=`<img src="${et}" alt="Logo Pixano" class="w-8 h-8 mx-2"/>`,n,a,c,i=l[4].name+"",f,k,d,w;return a=new ge({props:{tooltipContent:l[1]?"Back to dataset":"Back to home",$$slots:{default:[Tt]},$$scope:{ctx:l}}}),a.$on("click",l[9]),{c(){e=N("div"),s=N("div"),t=N("button"),t.innerHTML=r,n=C(),A(a.$$.fragment),c=C(),f=ne(i),this.h()},l(D){e=S(D,"DIV",{class:!0});var o=L(e);s=S(o,"DIV",{class:!0});var _=L(s);t=S(_,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-13o3zhj"&&(t.innerHTML=r),n=T(_),M(a.$$.fragment,_),c=T(_),f=se(_,i),_.forEach(p),o.forEach(p),this.h()},h(){v(t,"class","h-10 w-10"),v(s,"class","flex gap-4 items-center font-light"),v(e,"class","h-10 flex items-center font-semibold text-2xl")},m(D,o){P(D,e,o),E(e,s),E(s,t),E(s,n),V(a,s,null),E(s,c),E(s,f),k=!0,d||(w=$e(t,"click",l[13]),d=!0)},p(D,o){const _={};o&2&&(_.tooltipContent=D[1]?"Back to dataset":"Back to home"),o&16777216&&(_.$$scope={dirty:o,ctx:D}),a.$set(_),(!k||o&16)&&i!==(i=D[4].name+"")&&de(f,i)},i(D){k||(h(a.$$.fragment,D),k=!0)},o(D){I(a.$$.fragment,D),k=!1},d(D){D&&p(e),y(a),d=!1,w()}}}function Tt(l){let e,s;return e=new lt({}),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Ae(l){let e,s,t,r;const n=[At,Pt],a=[];function c(i,f){return i[2]?0:1}return e=c(l),s=a[e]=n[e](l),{c(){s.c(),t=me()},l(i){s.l(i),t=me()},m(i,f){a[e].m(i,f),P(i,t,f),r=!0},p(i,f){let k=e;e=c(i),e===k?a[e].p(i,f):(Y(),I(a[k],1,1,()=>{a[k]=null}),Z(),s=a[e],s?s.p(i,f):(s=a[e]=n[e](i),s.c()),h(s,1),s.m(t.parentNode,t))},i(i){r||(h(s),r=!0)},o(i){I(s),r=!1},d(i){i&&p(t),a[e].d(i)}}}function Pt(l){let e,s,t,r,n,a,c;return s=new ge({props:{tooltipContent:"Previous item",$$slots:{default:[Mt]},$$scope:{ctx:l}}}),s.$on("click",l[14]),a=new ge({props:{tooltipContent:"Next item",$$slots:{default:[Vt]},$$scope:{ctx:l}}}),a.$on("click",l[15]),{c(){e=N("div"),A(s.$$.fragment),t=C(),r=ne(l[1]),n=C(),A(a.$$.fragment),this.h()},l(i){e=S(i,"DIV",{class:!0});var f=L(e);M(s.$$.fragment,f),t=T(f),r=se(f,l[1]),n=T(f),M(a.$$.fragment,f),f.forEach(p),this.h()},h(){v(e,"class","flex items-center gap-4")},m(i,f){P(i,e,f),V(s,e,null),E(e,t),E(e,r),E(e,n),V(a,e,null),c=!0},p(i,f){const k={};f&16777216&&(k.$$scope={dirty:f,ctx:i}),s.$set(k),(!c||f&2)&&de(r,i[1]);const d={};f&16777216&&(d.$$scope={dirty:f,ctx:i}),a.$set(d)},i(i){c||(h(s.$$.fragment,i),h(a.$$.fragment,i),c=!0)},o(i){I(s.$$.fragment,i),I(a.$$.fragment,i),c=!1},d(i){i&&p(e),y(s),y(a)}}}function At(l){let e,s;return e=new Ye({props:{class:"animate-spin"}}),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},p:te,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Mt(l){let e,s;return e=new ft({}),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Vt(l){let e,s;return e=new _t({}),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function yt(l){let e,s,t,r,n;return e=new l[21]({props:{strokeWidth:1}}),{c(){A(e.$$.fragment),s=C(),t=ne(l[20]),r=C()},l(a){M(e.$$.fragment,a),s=T(a),t=se(a,l[20]),r=T(a)},m(a,c){V(e,a,c),P(a,s,c),P(a,t,c),P(a,r,c),n=!0},p:te,i(a){n||(h(e.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),n=!1},d(a){a&&(p(s),p(t),p(r)),y(e,a)}}}function Me(l){var r;let e,s;function t(){return l[16](l[20])}return e=new Oe({props:{isSelected:(r=l[0])==null?void 0:r.includes(`/${l[20]}`.toLowerCase()),$$slots:{default:[yt]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){A(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){V(e,n,a),s=!0},p(n,a){var i;l=n;const c={};a&1&&(c.isSelected=(i=l[0])==null?void 0:i.includes(`/${l[20]}`.toLowerCase())),a&16777216&&(c.$$scope={dirty:a,ctx:l}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function Ve(l){let e,s;return e=new xe({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",l[7]),e.$on("alternative",l[8]),e.$on("cancel",l[17]),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},p:te,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Bt(l){let e,s,t,r,n,a,c,i,f,k,d=l[4]&&Pe(l),w=l[1]&&Ae(l),D=Ne(Ce),o=[];for(let u=0;u<D.length;u+=1)o[u]=Me(Te(l,D,u));const _=u=>I(o[u],1,1,()=>{o[u]=null});let m=l[3]!=="none"&&Ve(l);return{c(){e=N("header"),s=N("div"),d&&d.c(),t=C(),w&&w.c(),r=C(),n=N("div");for(let u=0;u<o.length;u+=1)o[u].c();a=C(),m&&m.c(),c=me(),this.h()},l(u){e=S(u,"HEADER",{class:!0});var b=L(e);s=S(b,"DIV",{class:!0});var g=L(s);d&&d.l(g),t=T(g),w&&w.l(g),r=T(g),n=S(g,"DIV",{class:!0});var B=L(n);for(let O=0;O<o.length;O+=1)o[O].l(B);B.forEach(p),g.forEach(p),b.forEach(p),a=T(u),m&&m.l(u),c=me(),this.h()},h(){v(n,"class","flex gap-4"),v(s,"class","h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800"),v(e,"class","w-full fixed z-40 font-Montserrat")},m(u,b){P(u,e,b),E(e,s),d&&d.m(s,null),E(s,t),w&&w.m(s,null),E(s,r),E(s,n);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(n,null);P(u,a,b),m&&m.m(u,b),P(u,c,b),i=!0,f||(k=[$e(Ct,"keyup",l[6]),ze(l[11].call(null,s))],f=!0)},p(u,[b]){if(u[4]?d?(d.p(u,b),b&16&&h(d,1)):(d=Pe(u),d.c(),h(d,1),d.m(s,t)):d&&(Y(),I(d,1,1,()=>{d=null}),Z()),u[1]?w?(w.p(u,b),b&2&&h(w,1)):(w=Ae(u),w.c(),h(w,1),w.m(s,r)):w&&(Y(),I(w,1,1,()=>{w=null}),Z()),b&1041){D=Ne(Ce);let g;for(g=0;g<D.length;g+=1){const B=Te(u,D,g);o[g]?(o[g].p(B,b),h(o[g],1)):(o[g]=Me(B),o[g].c(),h(o[g],1),o[g].m(n,null))}for(Y(),g=D.length;g<o.length;g+=1)_(g);Z()}u[3]!=="none"?m?(m.p(u,b),b&8&&h(m,1)):(m=Ve(u),m.c(),h(m,1),m.m(c.parentNode,c)):m&&(Y(),I(m,1,1,()=>{m=null}),Z())},i(u){if(!i){h(d),h(w);for(let b=0;b<D.length;b+=1)h(o[b]);h(m),i=!0}},o(u){I(d),I(w),o=o.filter(Boolean);for(let b=0;b<o.length;b+=1)I(o[b]);I(m),i=!1},d(u){u&&(p(e),p(a),p(c)),d&&d.d(),w&&w.d(),Re(o,u),m&&m.d(u),f=!1,Ue(k)}}}function Ht(l,e,s){let t;he(l,fe,$=>s(4,t=$));let{pageId:r}=e,{datasetItemsIds:n}=e,a,c,i,f="none",k="none";_e.subscribe($=>i=$.canSave),Je.subscribe($=>{s(2,c=$)});const d=async $=>{const R=St(n,$,a);if(R){const q=`/${t.id}/dataset/${R}`;if(i)return k=R,s(3,f=q);s(1,a=R),await pe(q)}},w=async $=>{var R;return((R=$.target)==null?void 0:R.tagName)==="INPUT"?$.preventDefault():($.key==="ArrowLeft"?await d("previous"):$.key==="ArrowRight"&&await d("next"),$.key)},D=async()=>{_e.update($=>({...$,shouldSave:!0})),await o()},o=async()=>{k!=="none"&&(s(1,a=k),k="none"),await pe(f),s(3,f="none"),_e.set({canSave:!1,shouldSave:!1})},_=async()=>{a?(He.update($=>($.currentPage=Lt(n,a),$)),await m(`/${t.id}/dataset`)):await m("/")},m=async $=>{if(i)return s(3,f=$);await pe($)};function u($){function R(q){i&&q.preventDefault()}return window.addEventListener("beforeunload",R),{destroy(){window.removeEventListener("beforeunload",R)}}}const b=()=>m("/"),g=()=>d("previous"),B=()=>d("next"),O=$=>m(`/${t.id}/${$.toLocaleLowerCase()}`),j=()=>s(3,f="none");return l.$$set=$=>{"pageId"in $&&s(0,r=$.pageId),"datasetItemsIds"in $&&s(12,n=$.datasetItemsIds)},ye.subscribe($=>{s(1,a=$.params.itemId)}),[r,a,c,f,t,d,w,D,o,_,m,u,n,b,g,B,O,j]}class zt extends G{constructor(e){super(),W(this,e,Ht,Bt,K,{pageId:0,datasetItemsIds:12})}}const Rt=""+new URL("../assets/favicon.OuiISzV3.ico",import.meta.url).href;function Ut(l){let e,s;return e=new zt({props:{pageId:l[1],datasetItemsIds:l[2]}}),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},p(t,r){const n={};r&2&&(n.pageId=t[1]),r&4&&(n.datasetItemsIds=t[2]),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function jt(l){let e,s;return e=new Nt({props:{datasets:l[0]}}),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){V(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.datasets=t[0]),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Ft(l){let e,s,t,r,n,a,c,i,f;const k=[jt,Ut],d=[];function w(_,m){return _[1]==="/"?0:1}n=w(l),a=d[n]=k[n](l);const D=l[6].default,o=J(D,l,l[5],null);return{c(){e=N("link"),s=N("meta"),t=C(),r=N("div"),a.c(),c=C(),i=N("main"),o&&o.c(),this.h()},l(_){const m=je("svelte-8x3pw",document.head);e=S(m,"LINK",{rel:!0,type:!0,href:!0}),s=S(m,"META",{name:!0,content:!0}),m.forEach(p),t=T(_),r=S(_,"DIV",{class:!0});var u=L(r);a.l(u),c=T(u),i=S(u,"MAIN",{class:!0});var b=L(i);o&&o.l(b),b.forEach(p),u.forEach(p),this.h()},h(){v(e,"rel","icon"),v(e,"type","image/svg"),v(e,"href",Rt),document.title="Pixano",v(s,"name","description"),v(s,"content","Pixano app"),v(i,"class","h-1 min-h-screen bg-slate-50"),v(r,"class","app")},m(_,m){E(document.head,e),E(document.head,s),P(_,t,m),P(_,r,m),d[n].m(r,null),E(r,c),E(r,i),o&&o.m(i,null),f=!0},p(_,[m]){let u=n;n=w(_),n===u?d[n].p(_,m):(Y(),I(d[u],1,1,()=>{d[u]=null}),Z(),a=d[n],a?a.p(_,m):(a=d[n]=k[n](_),a.c()),h(a,1),a.m(r,c)),o&&o.p&&(!f||m&32)&&Q(o,D,_,_[5],f?x(D,_[5],m,null):X(_[5]),null)},i(_){f||(h(a),h(o,_),f=!0)},o(_){I(a),I(o,_),f=!1},d(_){_&&(p(t),p(r)),p(e),p(s),d[n].d(),o&&o.d(_)}}}function Ot(l,e,s){let t,r;he(l,fe,o=>s(4,t=o)),he(l,ce,o=>s(7,r=o));let{$$slots:n={},$$scope:a}=e,c,i,f,k;async function d(){await new Promise(o=>setTimeout(o,1)),ce.set([]),Ge().then(o=>ce.set(o)).catch(()=>ce.set([]))}async function w(){try{const o=await We();s(0,c=o),Be.set(o)}catch(o){console.error(o)}}Fe(async()=>{d().then(()=>console.log(`Found ${r.length} model(s):`,r)).catch(o=>console.error("ERROR: Can't get model",o)),await w()});const D=async o=>{o!==void 0&&s(2,k=await Ke(o))};return l.$$set=o=>{"$$scope"in o&&s(5,a=o.$$scope)},l.$$.update=()=>{l.$$.dirty&25&&ye.subscribe(o=>{if(s(1,i=o.route.id),s(3,f=o.params.dataset),f&&t==null){const _=c==null?void 0:c.find(m=>m.id===f);_&&fe.set(_)}}),l.$$.dirty&8&&D(f)},fe.subscribe(o=>{o&&He.set(Qe)}),[c,i,k,f,t,a,n]}class tn extends G{constructor(e){super(),W(this,e,Ot,Ft,K,{})}}export{tn as component,en as universal};
