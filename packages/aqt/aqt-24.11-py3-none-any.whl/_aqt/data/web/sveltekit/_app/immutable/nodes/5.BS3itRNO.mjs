var Ws=Object.defineProperty;var Hs=(r,e,s)=>e in r?Ws(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var le=(r,e,s)=>Hs(r,typeof e!="symbol"?e+"":e,s);import{O as Bs,P as zs,Q as Gs,S as js,T as qs,s as Ze,d as at,U as Xe,V as We,W as Fe,X as Vt,Y as wr,Z as Qt,_ as pt,$ as _r,a0 as yt,a1 as Us,a2 as Qs,a3 as Ft,a4 as Ks,a5 as Ys,a6 as Xs,a7 as Js,a8 as Zs}from"../chunks/backend.DRML5B1x.mjs";import{b as en,c as tn,e as rn,a as sn}from"../chunks/utils.CGySJu8o.mjs";import{V as Jt,p as ge,m as M,ag as pe,b as fe,g as a,U as nn,R as Zt,T as an,t as V,l as ie,a as Le,s as x,N as je,ah as _e,E as k,a0 as ae}from"../chunks/runtime.BJSnJeWl.mjs";import{w as Re,r as ln,g as we,a as on}from"../chunks/index.BB25h7Qo.mjs";import{a as un,g as cn,c as Wt}from"../chunks/cloneDeep.CEI3tDbh.mjs";import{b as Zr,i as Ht,a as dn,S as $n}from"../chunks/Select.DerbYqNj.mjs";import{c as _t,M as es,S as gn,l as fn,v as vn,w as ts,x as hn,d as mn,W as pn,P as yn,D as vt,t as Cn}from"../chunks/Badge.D2YMzTXS.mjs";import{S as kr,a as Kt}from"../chunks/isObject.DB8w6JNV.mjs";import{ab as er,y as Pr,z as br,A as Sr,C as wn,B as _n,D as kn,E as Pn,H as bn,F as Sn,G as xn,b as On,I as An,K as Tn,J as Rn,N as Dn,L as In}from"../chunks/HoverColumns.Do1LJyhv.mjs";import{D as Me,a as g,F as ee,d as U,e as q,r as L,s as l,n as Ln,t as X,M as En}from"../chunks/disclose-version.CXWUuFGG.mjs";import{b as Ct}from"../chunks/this.C9pg2j_S.mjs";import{i as me}from"../chunks/lifecycle.DW1_rEFA.mjs";import{p as W,i as be,s as rs}from"../chunks/props.fkJSEmZ6.mjs";import{s as Mn,a as Yt,c as ss,o as tr,b as Nn}from"../chunks/index-client.D9hOaSri.mjs";import{c as Oe,C as Vn}from"../chunks/Container.DdPX9a09.mjs";import{I as Fn,b as Ae}from"../chunks/IconButton.CHADxjdB.mjs";import{s as Pe,a as oe,b as et,m as J}from"../chunks/store.CAPRemx4.mjs";import{dI as ns,v as Ge,dJ as Xt,ca as as,aq as Je,dK as rr,dL as Wn,dM as Hn,t as mt,dN as Bn,dO as zn,dP as xr,dQ as Gn,dR as Or,dS as jn,dT as qn,dU as Un,dV as Qn,dW as Kn,dX as Yn,dY as Xn,dZ as Jn,d_ as Zn,d$ as ea,e0 as ta,e1 as ra,e2 as sa,e3 as Ar,e4 as na,e5 as aa,e6 as la,e7 as ia,e8 as Tr,e9 as oa,ea as ua,eb as ca,ec as da,ed as $a,ee as ga,ef as fa,eg as va,eh as ha,ei as ma,ej as ls,ek as pa,el as ya,em as Ca,en as wa,eo as _a,ep as ka,eq as Pa,er as ba,es as Sa,et as xa,eu as Oa,ev as Aa,ew as Ta,ex as Ra,ey as Da,ez as Ia,eA as La,eB as Ea,eC as Ma,eD as Na,eE as Va,eF as Fa,eG as Wa,eH as Ha,eI as Ba,eJ as za,eK as Ga,eL as ja,eM as qa,eN as Ua,eO as Qa,eP as Ka,eQ as Ya,eR as Xa,eS as Ja,eT as Za,eU as Rr,eV as el,eW as tl,eX as rl,eY as sl,eZ as nl,e_ as al,e$ as ll,f0 as Dr,f1 as il,f2 as ol,f3 as ul,f4 as cl,f5 as dl,f6 as is,f7 as os,f8 as us,f9 as $l,fa as gl,fb as fl,fc as vl,fd as hl,q as ht,fe as ml,ff as pl,fg as yl,fh as Cl,fi as wl,fj as St,fk as Ir,fl as Lr,fm as _l,fn as kl,fo as Pl,fp as bl,fq as Sl,fr as xl,fs as Ol,ft as Er,fu as Al,fv as Tl,fw as Rl,fx as Dl,fy as Il,fz as Ll,fA as El,fB as Ml,fC as Nl,fD as Vl,fE as Fl,fF as Mr,dj as Wl,fG as Hl,fH as cs,fI as ds,fJ as Bl,fK as Bt,fL as zl,ct as Gl,fM as $s,fN as jl,fO as ql,fP as zt,fQ as Ul,fR as Ql,fS as Kl,fT as Yl,fU as Xl,fV as gs,fW as Jl,fX as Zl,fY as ei,fZ as ti,f_ as ri,f$ as si,g0 as ni,g1 as ai,g2 as li,U as ii,g3 as oi,g4 as ui,g5 as ci,g6 as di,g7 as $i,g8 as gi,g9 as fi,ga as vi,gb as hi,gc as fs,gd as Nr,ge as mi,gf as pi,gg as yi,gh as Ci,gi as wi,gj as _i,gk as ki,gl as Pi,gm as bi,gn as Si,go as xi,gp as Vr,gq as Oi,gr as Ai,gs as Ti,gt as Ri,gu as Di,gv as Ii,gw as Li,gx as Fr,gy as Ei,gz as Mi,gA as Ni,gB as Vi,gC as Fi,gD as Wi,gE as Hi,gF as Bi,gG as zi,gH as Gi,gI as Gt,gJ as ji}from"../chunks/runtime-require.XfVPIJtJ.mjs";import{R as ke}from"../chunks/Row.COIbe2Oq.mjs";import{e as At,i as sr,p as qi}from"../chunks/theme.B6Eko5I8.mjs";import{T as Ve}from"../chunks/TitledContainer.DLckdw3n.mjs";import{s as G,e as Ce}from"../chunks/render.CQvFnAiW.mjs";import{C as lt,R as kt,H as ce,c as De,a as Z,b as qe,S as Ne,E as Qe,M as Ui}from"../chunks/EnumSelectorRow.CvlNufzq.mjs";import{a as Tt,b as jt}from"../chunks/input.CShFEa0B.mjs";import{I as Ot,aa as Qi,H as Ki,e as Wr,f as vs,ab as Yi,S as Xi,g as Ji,p as Zi}from"../chunks/Shortcut.BeOdFNIa.mjs";import{C as tt}from"../chunks/Col.DoKlg-nQ.mjs";import{m as hs}from"../chunks/context-keys.Dbye-yJ_.mjs";import{L as eo,S as to}from"../chunks/LabelButton.B-CCQke4.mjs";import{t as Hr,s as Br}from"../chunks/index.DPGbUxyT.mjs";import{r as xt}from"../chunks/progress.CXlna1TS.mjs";import{t as zr,b as He,c as ro,u as so,e as no}from"../chunks/time.BdBxgeyd.mjs";import{t as ao}from"../chunks/time.BSwB_FiG.mjs";import{I as lo,i as io,c as oo,C as uo,T as co}from"../chunks/TableData.AIIYlGUU.mjs";import{c as Gr,a as qt}from"../chunks/bridgecommand.CiNld-ld.mjs";function $o(r,e,...s){return go(r,io,e,s)}function go(r,e,s,t){return function n(i,c){if(c>=t.length)return s(i);const u=new lo,o=t[c++];let d=-1;for(const m of i){const _=o(m,++d,i),f=u.get(_);f?f.push(m):u.set(_,[m])}for(const[m,_]of u)u.set(m,n(_,c));return e(u)}(r,0)}const fo=oo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ms(r,e){for(var s=-1,t=r==null?0:r.length,n=Array(t);++s<t;)n[s]=e(r[s],s,r);return n}var vo=1/0,jr=kr?kr.prototype:void 0,qr=jr?jr.toString:void 0;function ps(r){if(typeof r=="string")return r;if(_t(r))return ms(r,ps)+"";if(er(r))return qr?qr.call(r):"";var e=r+"";return e=="0"&&1/r==-vo?"-0":e}function ho(r){return r}var mo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,po=/^\w*$/;function nr(r,e){if(_t(r))return!1;var s=typeof r;return s=="number"||s=="symbol"||s=="boolean"||r==null||er(r)?!0:po.test(r)||!mo.test(r)||e!=null&&r in Object(e)}var yo="Expected a function";function ar(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(yo);var s=function(){var t=arguments,n=e?e.apply(this,t):t[0],i=s.cache;if(i.has(n))return i.get(n);var c=r.apply(this,t);return s.cache=i.set(n,c)||i,c};return s.cache=new(ar.Cache||es),s}ar.Cache=es;var Co=500;function wo(r){var e=ar(r,function(t){return s.size===Co&&s.clear(),t}),s=e.cache;return e}var _o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ko=/\\(\\)?/g,Po=wo(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(_o,function(s,t,n,i){e.push(n?i.replace(ko,"$1"):t||s)}),e});function bo(r){return r==null?"":ps(r)}function Rt(r,e){return _t(r)?r:nr(r,e)?[r]:Po(bo(r))}var So=1/0;function Pt(r){if(typeof r=="string"||er(r))return r;var e=r+"";return e=="0"&&1/r==-So?"-0":e}function lr(r,e){e=Rt(e,r);for(var s=0,t=e.length;r!=null&&s<t;)r=r[Pt(e[s++])];return s&&s==t?r:void 0}function xo(r,e,s){var t=r==null?void 0:lr(r,e);return t===void 0?s:t}var Oo=1,Ao=2;function To(r,e,s,t){var n=s.length,i=n;if(r==null)return!i;for(r=Object(r);n--;){var c=s[n];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++n<i;){c=s[n];var u=c[0],o=r[u],d=c[1];if(c[2]){if(o===void 0&&!(u in r))return!1}else{var m=new gn,_;if(!(_===void 0?Zr(d,o,Oo|Ao,t,m):_))return!1}}return!0}function ys(r){return r===r&&!Kt(r)}function Ro(r){for(var e=fn(r),s=e.length;s--;){var t=e[s],n=r[t];e[s]=[t,n,ys(n)]}return e}function Cs(r,e){return function(s){return s==null?!1:s[r]===e&&(e!==void 0||r in Object(s))}}function Do(r){var e=Ro(r);return e.length==1&&e[0][2]?Cs(e[0][0],e[0][1]):function(s){return s===r||To(s,r,e)}}function Io(r,e){return r!=null&&e in Object(r)}function Lo(r,e,s){e=Rt(e,r);for(var t=-1,n=e.length,i=!1;++t<n;){var c=Pt(e[t]);if(!(i=r!=null&&s(r,c)))break;r=r[c]}return i||++t!=n?i:(n=r==null?0:r.length,!!n&&vn(n)&&ts(c,n)&&(_t(r)||hn(r)))}function Eo(r,e){return r!=null&&Lo(r,e,Io)}var Mo=1,No=2;function Vo(r,e){return nr(r)&&ys(e)?Cs(Pt(r),e):function(s){var t=xo(s,r);return t===void 0&&t===e?Eo(s,r):Zr(e,t,Mo|No)}}function Fo(r){return function(e){return e==null?void 0:e[r]}}function Wo(r){return function(e){return lr(e,r)}}function Ho(r){return nr(r)?Fo(Pt(r)):Wo(r)}function Bo(r){return typeof r=="function"?r:r==null?ho:typeof r=="object"?_t(r)?Vo(r[0],r[1]):Do(r):Ho(r)}function zo(r,e,s,t){if(!Kt(r))return r;e=Rt(e,r);for(var n=-1,i=e.length,c=i-1,u=r;u!=null&&++n<i;){var o=Pt(e[n]),d=s;if(o==="__proto__"||o==="constructor"||o==="prototype")return r;if(n!=c){var m=u[o];d=void 0,d===void 0&&(d=Kt(m)?m:ts(e[n+1])?[]:{})}un(u,o,d),u=u[o]}return r}function Go(r,e,s){for(var t=-1,n=e.length,i={};++t<n;){var c=e[t],u=lr(r,c);s(u,c)&&zo(i,Rt(c,r),u)}return i}function jo(r,e){if(r==null)return{};var s=ms(cn(r),function(t){return[t]});return e=Bo(e),Go(r,s,function(t,n){return e(t,n[0])})}class qo{constructor(e,s){le(this,"currentConfig");le(this,"currentAuxData");le(this,"configList");le(this,"cardStateCustomizer");le(this,"currentDeck");le(this,"deckLimits");le(this,"defaults");le(this,"addonComponents");le(this,"newCardsIgnoreReviewLimit");le(this,"applyAllParentLimits");le(this,"fsrs");le(this,"fsrsReschedule",Re(!1));le(this,"daysSinceLastOptimization");le(this,"currentPresetName");le(this,"originalConfigs");le(this,"targetDeckId");le(this,"configs");le(this,"selectedIdx");le(this,"configListSetter");le(this,"modifiedConfigs",new Set);le(this,"removedConfigs",[]);le(this,"schemaModified");le(this,"_presetAssignmentsChanged",!1);var t,n;this.targetDeckId=e,this.currentDeck=s.currentDeck,this.defaults=s.defaults.config,this.configs=s.allConfig.map(i=>({config:i.config,useCount:i.useCount})),this.selectedIdx=Math.max(0,this.configs.findIndex(i=>i.config.id===this.currentDeck.configId)),this.sortConfigs(),this.cardStateCustomizer=Re(s.cardStateCustomizer),this.deckLimits=Re((n=(t=s.currentDeck)==null?void 0:t.limits)!=null?n:Qo()),this.newCardsIgnoreReviewLimit=Re(s.newCardsIgnoreReviewLimit),this.applyAllParentLimits=Re(s.applyAllParentLimits),this.fsrs=Re(s.fsrs),this.daysSinceLastOptimization=Re(s.daysSinceLastFsrsOptimize),this.configs[this.selectedIdx].useCount-=1,this.currentConfig=Re(this.getCurrentConfig()),this.currentAuxData=Re(this.getCurrentAuxData()),this.currentPresetName=Re(this.configs[this.selectedIdx].config.name),this.configList=ln(this.getConfigList(),i=>{this.configListSetter=i}),this.schemaModified=s.schemaModified,this.addonComponents=Re([]),we(this.configList),this.currentConfig.subscribe(i=>this.onCurrentConfigChanged(i)),this.currentAuxData.subscribe(i=>this.onCurrentAuxDataChanged(i)),this.originalConfigs=Wt({configs:this.configs.map(i=>i.config),cardStateCustomizer:s.cardStateCustomizer,limits:we(this.deckLimits),newCardsIgnoreReviewLimit:s.newCardsIgnoreReviewLimit,applyAllParentLimits:s.applyAllParentLimits,fsrs:s.fsrs,fsrsReschedule:we(this.fsrsReschedule),currentConfig:we(this.currentConfig)})}setCurrentIndex(e){this.selectedIdx=e,this._presetAssignmentsChanged=!0,this.updateCurrentConfig(),this.updateConfigList()}getCurrentName(){return this.configs[this.selectedIdx].config.name}setCurrentName(e){if(this.configs[this.selectedIdx].config.name===e)return;const s=this.ensureNewNameUnique(e),t=this.configs[this.selectedIdx].config;t.name=s,t.id&&this.modifiedConfigs.add(t.id),this.sortConfigs(),this.updateConfigList()}addConfig(e){this.addConfigFrom(e,this.defaults)}cloneConfig(e){this.addConfigFrom(e,this.configs[this.selectedIdx].config.config)}addConfigFrom(e,s){const t=this.ensureNewNameUnique(e),i={config:new Bs({id:0n,name:t,config:new zs(Wt(s))}),useCount:0};this.configs.push(i),this.selectedIdx=this.configs.length-1,this._presetAssignmentsChanged=!0,this.sortConfigs(),this.updateCurrentConfig(),this.updateConfigList()}removalWilLForceFullSync(){return!this.schemaModified&&this.configs[this.selectedIdx].config.id!==0n}defaultConfigSelected(){return this.configs[this.selectedIdx].config.id===1n}removeCurrentConfig(){const e=this.configs[this.selectedIdx].config.id;if(e===1n)throw Error("can't remove default config");e!==0n&&(this.removedConfigs.push(e),this.schemaModified=!0),this.configs.splice(this.selectedIdx,1),this.selectedIdx=Math.max(0,this.selectedIdx-1),this._presetAssignmentsChanged=!0,this.updateCurrentConfig(),this.updateConfigList()}dataForSaving(e){const t=[...this.configs.map(n=>n.config).filter((n,i)=>i!==this.selectedIdx&&(n.id===0n||this.modifiedConfigs.has(n.id))),this.configs[this.selectedIdx].config];return{targetDeckId:this.targetDeckId,removedConfigIds:this.removedConfigs,configs:t,mode:e,cardStateCustomizer:we(this.cardStateCustomizer),limits:we(this.deckLimits),newCardsIgnoreReviewLimit:we(this.newCardsIgnoreReviewLimit),applyAllParentLimits:we(this.applyAllParentLimits),fsrs:we(this.fsrs),fsrsReschedule:we(this.fsrsReschedule)}}presetAssignmentsChanged(){return this._presetAssignmentsChanged}async save(e){await Gs(this.dataForSaving(e))}onCurrentConfigChanged(e){const s=this.configs[this.selectedIdx].config;Ht(e,s.config)||(s.config=e,s.id&&this.modifiedConfigs.add(s.id))}onCurrentAuxDataChanged(e){const s=this.getCurrentAuxData();Ht(s,e)||this.currentConfig.update(t=>{const n=new TextEncoder().encode(JSON.stringify(e));return t.other=n,t})}ensureNewNameUnique(e){return this.configs.findIndex(t=>t.config.name===e)!==-1?e+(new Date().getTime()/1e3).toFixed(0):e}updateCurrentConfig(){this.currentConfig.set(this.getCurrentConfig()),this.currentAuxData.set(this.getCurrentAuxData())}updateConfigList(){var e;(e=this.configListSetter)==null||e.call(this,this.getConfigList()),this.currentPresetName.set(this.configs[this.selectedIdx].config.name)}getCurrentConfig(){return Wt(this.configs[this.selectedIdx].config.config)}getCurrentAuxData(){const e=this.configs[this.selectedIdx].config.config;return Uo(e.other)}sortConfigs(){const e=this.configs[this.selectedIdx].config.name;this.configs.sort((s,t)=>en(s.config.name,t.config.name,{sensitivity:"base"})),this.selectedIdx=this.configs.findIndex(s=>s.config.name==e)}getConfigList(){return this.configs.map((s,t)=>{const n=s.useCount+(t===this.selectedIdx?1:0);return{name:s.config.name,current:t===this.selectedIdx,idx:t,useCount:n}})}isModified(){const e={...this.originalConfigs,limits:Ur(this.originalConfigs.limits)},s={configs:this.configs.map(t=>t.config),cardStateCustomizer:we(this.cardStateCustomizer),limits:Ur(we(this.deckLimits)),newCardsIgnoreReviewLimit:we(this.newCardsIgnoreReviewLimit),applyAllParentLimits:we(this.applyAllParentLimits),fsrs:we(this.fsrs),fsrsReschedule:we(this.fsrsReschedule),currentConfig:we(this.currentConfig)};return!Ht(e,s)}}function Uo(r){if(!r.length)return{};let e;try{e=JSON.parse(new TextDecoder().decode(r))}catch{return console.log("invalid json in deck config"),{}}return e.constructor!==Object?(console.log("invalid object in deck config"),{}):e}function Qo(){return new js({})}class Ye{constructor(e,s,t,n,i){le(this,"title");le(this,"value");le(this,"setter");le(this,"disabledValue");le(this,"startValue");le(this,"initialValue");this.title=e,this.value=this.initialValue=s,this.setter=t,this.disabledValue=n,this.startValue=i}reset(){this.setter(this.initialValue)}disable(){this.setter(this.disabledValue)}enable(e){var s,t;this.value=(t=(s=this.value)!=null?s:this.startValue)!=null?t:e,this.setter(this.value)}setValue(e){this.value=e,this.setter(e)}}function Ur(r){return jo(r,e=>e!==void 0)}async function ws(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),await Jt()}const Ko=async({params:r})=>{const e=Number(r.deckId),s=BigInt(e),t=await qs({did:s});return{state:new qo(BigInt(s),t)}},Id=Object.freeze(Object.defineProperty({__proto__:null,load:Ko},Symbol.toStringTag,{value:"Module"}));ns("svelte",Mn);ns("svelte/store",on);function Yo(r,e){ge(e,!1);const s=Pe(),t=()=>oe(a(c),"$components",s),n=()=>oe(u,"$auxData",s);let i=W(e,"state");const c=M(i().addonComponents),u=i().currentAuxData;me();var o=Me(),d=ee(o);be(d,()=>t().length,m=>{Ve(m,{title:"Add-ons",children:(_,f)=>{var R=Me(),S=ee(R);At(S,1,t,sr,(O,C,A)=>{var w=Me(),B=ee(w);Yt(B,()=>pe(C).component,(D,H)=>{H(D,rs({get data(){return n()},set data(I){et(u,I)}},()=>pe(C),{$$legacy:!0}))}),g(O,w)}),g(_,R)},$$slots:{default:!0},$$legacy:!0})}),g(r,o),fe()}function Ut(r,e){let s,t;if(e instanceof Element){if(s=e,t=Array.prototype.indexOf.call(r,s),t<0)return null}else if(typeof e=="string"){const n=r.namedItem(e);if(!n||(s=n,t=Array.prototype.indexOf.call(r,s),t<0))return null}else if(e<0){t=r.length+e;const n=r.item(t);if(!n)return null;s=n}else{t=e;const n=r.item(t);if(!n)return null;s=n}return[s,t]}class Xo{constructor(e){le(this,"parent");this.parent=e}insertElement(e,s){const t=Ut(this.parent.children,s);if(!t)return-1;const[n,i]=t;return this.parent.insertBefore(e,n[0]),i}appendElement(e,s){var u;const t=Ut(this.parent.children,s);if(!t)return-1;const[n,i]=t,c=(u=n.nextElementSibling)!=null?u:null;return this.parent.insertBefore(e,c),i+1}updateElement(e,s){const t=Ut(this.parent.children,s);return t?(e(...t),!0):!1}}function Jo(r){return new Xo(r)}function Zo(r){return r.nodeType===Node.ELEMENT_NODE}function Qr(){let r;return[new Promise(s=>r=s),r]}function eu(r){function e(t){nn(r,t)}return[{get(){return Zt(r)},available(){return an(r)}},e]}function tu(r,e,s,t){const n=Re([]);n.subscribe(e);function i(S,O){n.update(C=>(C.splice(S,0,O),C))}const[c,u]=Qr(),o=c.then(Jo),d=Re([]);async function m(S,O){const[C,A]=Qr(),w=await o,B=r();function D($){return!S.id||$.id===S.id}async function H($,N){for(const p of $)for(const P of p.addedNodes){if(!Zo(P)||!D(P))continue;const E=O(P,w);return E>=0&&i(E,B),A(void 0),N.disconnect()}}new MutationObserver(H).observe(w.parent,{childList:!0});const v={component:S,hostProps:B};return d.update($=>($.push(v),$)),await C,{destroy(){d.update($=>(dn($,v),$))}}}async function _(S,O){return(await o).updateElement((A,w)=>{n.update(B=>(B[w]=S(B[w]),B))},O)}const f=t({addComponent:m,updateProps:_});function R(){const S=r();return n.update(O=>(O.push(S),O)),S}return s({getProps:R}),{dynamicSlotted:d,resolveSlotContainer:u,slotsInterface:f}}function ru(){return{detach:Re(!1)}}function su({addComponent:r,updateProps:e}){function s(u,o=0){return r(u,(d,m)=>m.insertElement(d,o))}function t(u,o=-1){return r(u,(d,m)=>m.appendElement(d,o))}function n(u){return e(o=>(o.detach.set(!1),o),u)}function i(u){return e(o=>(o.detach.set(!0),o),u)}function c(u){return e(o=>(o.detach.update(d=>!d),o),u)}return{insert:s,append:t,show:n,hide:i,toggle:c}}const nu=Symbol("dynamicSlotting"),[Kr,au]=eu(nu);var lu=U('<div class="dynamically-slottable svelte-8in7my"><!> <!></div>');function Be(r,e){ge(e,!1);const s=Pe(),t=()=>oe(a(R),"$dynamicSlotted",s);function n(w){return w}let i=W(e,"slotHost"),c=W(e,"createProps",0,ru),u=W(e,"updatePropsList",0,n),o=W(e,"setSlotHostContext",0,au),d=W(e,"createInterface",0,su);const m=tu(c(),u(),o(),d()),_=m.slotsInterface,f=m.resolveSlotContainer,R=M(m.dynamicSlotted);let S=W(e,"api");Object.assign(S(),_),me();var O=lu(),C=q(O);Ze(C,at(e),{});var A=l(l(C,!0));At(A,7,t,(w,B)=>pe(pe(w)).component.id,(w,B,D)=>{let H=()=>pe(pe(B)).component,I=()=>pe(pe(B)).hostProps;var v=Me(),$=ee(v);Yt($,i,(N,p)=>{p(N,{get id(){return H().id},get hostProps(){return I()},children:(P,y)=>{var E=Me(),T=ee(E);Yt(T,()=>H().component,(b,z)=>{z(b,rs(()=>H().props,{$$legacy:!0}))}),g(P,E)},$$slots:{default:!0},$$legacy:!0})}),g(w,v)}),L(O),mn(O,w=>f(w)),g(r,O),fe()}var iu=U('<div class="item svelte-u5rx4p"><!></div>');function Q(r,e){var d;ge(e,!1);const s=Pe(),t=()=>oe(c,"$detach",s);let n=W(e,"id",0,void 0),i=W(e,"hostProps",0,void 0);Kr.available()||console.log("Item: should always have a slotHostContext");const{detach:c}=(d=i())!=null?d:Kr.get().getProps();me();var u=iu(),o=q(u);be(o,()=>!t(),m=>{var _=Me(),f=ee(_);Ze(f,at(e),{}),g(m,_)}),L(u),V(()=>Ge(u,"id",n())),g(r,u),fe()}var ou=U(' <div class="inline-icon svelte-cpy9wq"><!></div>',1);function wt(r,e){ge(e,!1);let s=W(e,"title");me(),Ln();var t=ou(),n=ee(t,!0),i=l(n);V(()=>Ge(i,"title",Xt()));var c=q(i);Ot(c,{icon:Qi,$$legacy:!0}),L(i),V(()=>{var u;return G(n,`${(u=s())!=null?u:""} `)}),g(r,t),fe()}var uu=U('<details><summary><!></summary> <div class="text svelte-pjduvg"><textarea class="card-state-customizer form-control svelte-pjduvg" spellcheck="false" autocapitalize="none"></textarea></div></details>'),cu=U('<div class="m-2"><!></div>');function du(r,e){let s=W(e,"value",4),t=W(e,"title");var n=cu(),i=q(n);lt(i,{children:(c,u)=>{var o=uu(),d=q(o),m=q(d);wt(m,{get title(){return t()},$$legacy:!0}),L(d);var _=l(l(d,!0)),f=q(_);as(f),L(_),L(o),Tt(f,s,R=>s(R)),g(c,o)},$$slots:{default:!0,revert:(c,u)=>{kt(c,{slot:"revert",get value(){return s()},set value(o){s(o)},defaultValue:"",$$legacy:!0})}},$$legacy:!0}),L(n),g(r,n)}var $u=U('<div class="spinner decrement svelte-1dakg3f" tabindex="-1" role="button"><!></div> <div class="spinner increment svelte-1dakg3f" tabindex="-1" role="button"><!></div>',1),gu=U('<div class="spin-box svelte-1dakg3f"><input type="number" pattern="[0-9]*" inputmode="numeric" class="svelte-1dakg3f"> <!></div>');function _s(r,e){ge(e,!1);let s=W(e,"value",4),t=W(e,"step",0,1),n=W(e,"min",0,1),i=W(e,"max",0,9999),c=M(),u=M(!1);function o(I){Number.isNaN(I)||s(Math.min(i(),Math.max(n(),I))),Jt().then(()=>_e(c,a(c).value=a(m)))}function d(I){return Math.floor(I)===I?0:I.toString().split(".")[1].length||0}let m=M();function _(){o(parseFloat(this.value))}function f(I){a(u)&&(o(s()+(I.deltaY<0?t():-t())),I.preventDefault())}function R(I){o(s()+I),a(C)&&setTimeout(()=>R(I),A)}const S=[1500,1250,1e3,750,500,250];async function O(I){x(C,!0),A=128,x(w,setTimeout(I,250));for(const v of S)A=await new Promise($=>setTimeout(()=>$(a(C)?A/2:128),v))}let C=M(!1),A,w=M();ie(()=>(je(s()),je(t())),()=>{x(m,s().toFixed(d(t())))}),Le(),me();var B=gu(),D=q(B);Ct(D,I=>x(c,I),()=>a(c)),Je(D);var H=l(l(D,!0));be(H,Ki,I=>{var v=$u(),$=ee(v);V(()=>Ge($,"title",Wn()));var N=q($);Wr(N,{children:(y,E)=>{Ot(y,{icon:vs,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L($);var p=l(l($,!0));V(()=>Ge(p,"title",Hn()));var P=q(p);Wr(P,{children:(y,E)=>{Ot(y,{icon:Yi,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(p),V(()=>{mt($,"active",s()>n()),mt(p,"active",s()<i())}),Ce("click",$,()=>{a(c).focus(),s()>n()&&R(-t())},!1),Ce("mousedown",$,()=>O(()=>{s()>n()&&R(-t())}),!1),Ce("mouseup",$,()=>{clearTimeout(a(w)),x(C,!1)},!1),Ce("click",p,()=>{a(c).focus(),s()<i()&&R(t())},!1),Ce("mousedown",p,()=>O(()=>{s()<i()&&R(t())}),!1),Ce("mouseup",p,()=>{clearTimeout(a(w)),x(C,!1)},!1),g(I,v)}),L(B),V(()=>{Ge(D,"min",n()),Ge(D,"max",i()),Ge(D,"step",t()),rr(D,a(m))}),Ce("wheel",B,f,!1,!0),Ce("blur",D,_,!1),Ce("focusin",D,()=>x(u,!0),!1),Ce("focusout",D,()=>x(u,!1),!1),g(r,B),fe()}var fu=U('<div style="display: contents"><!></div> <div style="display: contents"><!></div>',1),vu=U('<div style="display: contents"><!></div>',1);function Ue(r,e){let s=W(e,"value",4),t=W(e,"defaultValue"),n=W(e,"min",0,0),i=W(e,"max",0,9999),c=W(e,"step",0,.01);var u=vu(),o=ee(u);Oe(o,()=>({"--cols":13})),ke(o.lastChild,{children:(d,m)=>{var _=fu(),f=ee(_);Oe(f,()=>({"--col-size":7})),tt(f.lastChild,{breakpoint:"xs",children:(S,O)=>{var C=Me(),A=ee(C);Ze(A,at(e),{}),g(S,C)},$$slots:{default:!0},$$legacy:!0}),L(f);var R=l(l(f,!0));Oe(R,()=>({"--col-size":6})),tt(R.lastChild,{breakpoint:"xs",children:(S,O)=>{lt(S,{children:(C,A)=>{_s(C,{get value(){return s()},set value(w){s(w)},get min(){return n()},get max(){return i()},get step(){return c()},$$legacy:!0})},$$slots:{default:!0,revert:(C,A)=>{kt(C,{slot:"revert",get value(){return s()},set value(w){s(w)},get defaultValue(){return t()},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(R),g(d,_)},$$slots:{default:!0},$$legacy:!0}),L(o),g(r,u)}var hu=U("<!> <!>",1),mu=U('<div style="display: contents"><!></div> <div style="display: contents"><!></div>',1),pu=U('<div style="display: contents"><!></div>',1);function Ie(r,e){let s=W(e,"value",4),t=W(e,"defaultValue"),n=W(e,"min",0,0),i=W(e,"max",0,9999);var c=pu(),u=ee(c);Oe(u,()=>({"--cols":13})),ke(u.lastChild,{children:(o,d)=>{var m=mu(),_=ee(m);Oe(_,()=>({"--col-size":7})),tt(_.lastChild,{breakpoint:"xs",children:(R,S)=>{var O=Me(),C=ee(O);Ze(C,at(e),{}),g(R,O)},$$slots:{default:!0},$$legacy:!0}),L(_);var f=l(l(_,!0));Oe(f,()=>({"--col-size":6})),tt(f.lastChild,{breakpoint:"xs",children:(R,S)=>{ke(R,{class:"flex-grow-1",children:(O,C)=>{var D;var A=hu(),w=ee(A);Ze(w,(D=e.$$slots)==null?void 0:D.tabs,{});var B=l(l(w,!0));lt(B,{children:(H,I)=>{_s(H,{get value(){return s()},set value(v){s(v)},get min(){return n()},get max(){return i()},$$legacy:!0})},$$slots:{default:!0,revert:(H,I)=>{kt(H,{slot:"revert",get value(){return s()},set value(v){s(v)},get defaultValue(){return t()},$$legacy:!0})}},$$legacy:!0}),g(O,A)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(f),g(o,m)},$$slots:{default:!0},$$legacy:!0}),L(u),g(r,c)}var yu=U('<input type="date" class="svelte-ora9c4">'),Cu=U('<div style="display: contents"><!></div> <div style="display: contents"><!></div>',1),wu=U('<div style="display: contents"><!></div>',1),_u=U("<div><!></div>");function ku(r,e){ge(e,!1);let s=W(e,"date",4);ie(()=>je(s()),()=>{s(s()?s():"1970-01-01")}),Le();var t=_u(),n=q(t);lt(n,{children:(i,c)=>{var u=wu(),o=ee(u);Oe(o,()=>({"--cols":13})),ke(o.lastChild,{children:(d,m)=>{var _=Cu(),f=ee(_);Oe(f,()=>({"--col-size":7})),tt(f.lastChild,{breakpoint:"xs",children:(S,O)=>{var C=Me(),A=ee(C);Ze(A,at(e),{}),g(S,C)},$$slots:{default:!0},$$legacy:!0}),L(f);var R=l(l(f,!0));Oe(R,()=>({"--col-size":6})),tt(R.lastChild,{breakpoint:"xs",children:(S,O)=>{var C=yu();Je(C),Tt(C,s,A=>s(A)),g(S,C)},$$slots:{default:!0},$$legacy:!0}),L(R),g(d,_)},$$slots:{default:!0},$$legacy:!0}),L(o),g(i,u)},$$slots:{default:!0},$$legacy:!0}),L(t),g(r,t),fe()}var Pu=U("<!> <!> <!> <!> <!>",1),bu=U("<!> <!>",1),Su=U("<!> <!> <!>",1);function xu(r,e){ge(e,!1);const s=Pe(),t=()=>oe(_,"$fsrs",s),n=()=>oe(o,"$config",s),i=()=>oe(m,"$cardStateCustomizer",s);let c=W(e,"state"),u=W(e,"api");const o=c().currentConfig,d=c().defaults,m=c().cardStateCustomizer,_=c().fsrs,f={maximumInterval:{title:Bn(),help:zn(),url:ce.DeckOptions.maximumInterval},historicalRetention:{title:xr(),help:Gn(),sched:De.FSRS},ignoreRevlogsBeforeMs:{title:Or(),help:jn(),sched:De.FSRS},startingEase:{title:qn(),help:Un(),url:ce.DeckOptions.startingEase,sched:De.SM2},easyBonus:{title:Qn(),help:Kn(),url:ce.DeckOptions.easyBonus,sched:De.SM2},intervalModifier:{title:Yn(),help:Xn(),url:ce.DeckOptions.intervalModifier,sched:De.SM2},hardInterval:{title:Jn(),help:Zn(),url:ce.DeckOptions.hardInterval,sched:De.SM2},newInterval:{title:ea(),help:ta(),url:ce.DeckOptions.newInterval,sched:De.SM2},customScheduling:{title:ra(),help:sa(),url:"https://faqs.ankiweb.net/the-2021-scheduler.html#add-ons-and-custom-scheduling"}},R=Object.values(f);let S=M(),O=M();function C(w){a(S).show(),a(O).to(w)}me();var A=ae(()=>Ar());Ve(r,{get title(){return a(A)},children:(w,B)=>{Be(w,{slotHost:Q,get api(){return u()},children:(D,H)=>{var I=Su(),v=ee(I);Q(v,{children:(p,P)=>{Ie(p,{get value(){return n().maximumReviewInterval},set value(y){J(o,k(n).maximumReviewInterval=y,k(n))},get defaultValue(){return d.maximumReviewInterval},min:1,max:365*100,children:(y,E)=>{Z(y,{$$events:{click:()=>C(Object.keys(f).indexOf("maximumInterval"))},children:(T,b)=>{var z=X();V(()=>G(z,f.maximumInterval.title)),g(T,z)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var $=l(l(v,!0));be($,()=>!t(),p=>{var P=Pu(),y=ee(P);Q(y,{children:(Y,te)=>{Ue(Y,{get value(){return n().initialEase},set value(j){J(o,k(n).initialEase=j,k(n))},get defaultValue(){return d.initialEase},min:1.31,max:5,children:(j,F)=>{Z(j,{$$events:{click:()=>C(Object.keys(f).indexOf("startingEase"))},children:(ve,he)=>{var de=X();V(()=>G(de,f.startingEase.title)),g(ve,de)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var E=l(l(y,!0));Q(E,{children:(Y,te)=>{Ue(Y,{get value(){return n().easyMultiplier},set value(j){J(o,k(n).easyMultiplier=j,k(n))},get defaultValue(){return d.easyMultiplier},min:1,max:5,children:(j,F)=>{Z(j,{$$events:{click:()=>C(Object.keys(f).indexOf("easyBonus"))},children:(ve,he)=>{var de=X();V(()=>G(de,f.easyBonus.title)),g(ve,de)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var T=l(l(E,!0));Q(T,{children:(Y,te)=>{Ue(Y,{get value(){return n().intervalMultiplier},set value(j){J(o,k(n).intervalMultiplier=j,k(n))},get defaultValue(){return d.intervalMultiplier},min:.5,max:2,children:(j,F)=>{Z(j,{$$events:{click:()=>C(Object.keys(f).indexOf("intervalModifier"))},children:(ve,he)=>{var de=X();V(()=>G(de,f.intervalModifier.title)),g(ve,de)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var b=l(l(T,!0));Q(b,{children:(Y,te)=>{Ue(Y,{get value(){return n().hardMultiplier},set value(j){J(o,k(n).hardMultiplier=j,k(n))},get defaultValue(){return d.hardMultiplier},min:.5,max:1.3,children:(j,F)=>{Z(j,{$$events:{click:()=>C(Object.keys(f).indexOf("hardInterval"))},children:(ve,he)=>{var de=X();V(()=>G(de,f.hardInterval.title)),g(ve,de)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var z=l(l(b,!0));Q(z,{children:(Y,te)=>{Ue(Y,{get value(){return n().lapseMultiplier},set value(j){J(o,k(n).lapseMultiplier=j,k(n))},get defaultValue(){return d.lapseMultiplier},max:1,children:(j,F)=>{Z(j,{$$events:{click:()=>C(Object.keys(f).indexOf("newInterval"))},children:(ve,he)=>{var de=X();V(()=>G(de,f.newInterval.title)),g(ve,de)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(p,P)},p=>{var P=bu(),y=ee(P);Ue(y,{get value(){return n().historicalRetention},set value(T){J(o,k(n).historicalRetention=T,k(n))},get defaultValue(){return d.historicalRetention},min:.5,max:1,children:(T,b)=>{Z(T,{$$events:{click:()=>C(Object.keys(f).indexOf("historicalRetention"))},children:(z,Y)=>{var te=X();V(()=>G(te,xr())),g(z,te)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var E=l(l(y,!0));Q(E,{children:(T,b)=>{ku(T,{get date(){return n().ignoreRevlogsBeforeDate},set date(z){J(o,k(n).ignoreRevlogsBeforeDate=z,k(n))},children:(z,Y)=>{Z(z,{$$events:{click:()=>C(Object.keys(f).indexOf("ignoreRevlogsBeforeMs"))},children:(te,j)=>{var F=X();V(()=>G(F,Or())),g(te,F)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(p,P)});var N=l(l($,!0));Q(N,{children:(p,P)=>{du(p,{get title(){return f.customScheduling.title},get value(){return i()},set value(y){et(m,y)},$$events:{click:()=>C(Object.keys(f).indexOf("customScheduling"))},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(D,I)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(w,B)=>{var D=ae(()=>Ar());qe(w,{get title(){return a(D)},get url(){return ce.DeckOptions.advanced},slot:"tooltip",get fsrs(){return t()},helpSections:R,$$events:{mount:H=>{x(S,H.detail.modal),x(O,H.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}var Ou=U("<!> <!>",1);function Au(r,e){ge(e,!1);const s=Pe(),t=()=>oe(c,"$config",s);let n=W(e,"state"),i=W(e,"api");const c=n().currentConfig,u=n().defaults,o={disableAutoplay:{title:na(),help:aa()},skipQuestionWhenReplaying:{title:la(),help:ia()}},d=Object.values(o);let m=M(),_=M();function f(S){a(m).show(),a(_).to(S)}me();var R=ae(()=>Tr());Ve(r,{get title(){return a(R)},children:(S,O)=>{Be(S,{slotHost:Q,get api(){return i()},children:(C,A)=>{var w=Ou(),B=ee(w);Q(B,{children:(H,I)=>{Ne(H,{get value(){return t().disableAutoplay},set value(v){J(c,k(t).disableAutoplay=v,k(t))},get defaultValue(){return u.disableAutoplay},children:(v,$)=>{Z(v,{$$events:{click:()=>f(Object.keys(o).indexOf("disableAutoplay"))},children:(N,p)=>{var P=X();V(()=>G(P,o.disableAutoplay.title)),g(N,P)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var D=l(l(B,!0));Q(D,{children:(H,I)=>{Ne(H,{get value(){return t().skipQuestionWhenReplayingAnswer},set value(v){J(c,k(t).skipQuestionWhenReplayingAnswer=v,k(t))},get defaultValue(){return u.skipQuestionWhenReplayingAnswer},children:(v,$)=>{Z(v,{$$events:{click:()=>f(Object.keys(o).indexOf("skipQuestionWhenReplaying"))},children:(N,p)=>{var P=X();V(()=>G(P,o.skipQuestionWhenReplaying.title)),g(N,P)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(C,w)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(S,O)=>{var C=ae(()=>Tr());qe(S,{get title(){return a(C)},get url(){return ce.DeckOptions.audio},slot:"tooltip",helpSections:d,$$events:{mount:A=>{x(m,A.detail.modal),x(_,A.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}function Tu(){return[{label:oa(),value:Xe.DECK},{label:ua(),value:Xe.DECK_THEN_RANDOM_NOTES},{label:ca(),value:Xe.LOWEST_POSITION},{label:da(),value:Xe.HIGHEST_POSITION},{label:$a(),value:Xe.RANDOM_NOTES},{label:ga(),value:Xe.RANDOM_CARDS}]}function Ru(){return[{label:fa(),value:We.TEMPLATE},{label:va(),value:We.NO_SORT},{label:ha(),value:We.TEMPLATE_THEN_RANDOM},{label:ma(),value:We.RANDOM_NOTE_THEN_TEMPLATE},{label:ls(),value:We.RANDOM_CARD}]}function Du(r){return[{label:pa(),value:Fe.DAY},{label:ya(),value:Fe.DAY_THEN_DECK},{label:Ca(),value:Fe.DECK_THEN_DAY},{label:wa(),value:Fe.INTERVALS_ASCENDING},{label:_a(),value:Fe.INTERVALS_DESCENDING},...Nu(r),{label:ka(),value:Fe.RELATIVE_OVERDUENESS},{label:ls(),value:Fe.RANDOM},{label:Pa(),value:Fe.ADDED},{label:ba(),value:Fe.REVERSE_ADDED}]}function Yr(){return[{label:Sa(),value:Vt.MIX_WITH_REVIEWS},{label:xa(),value:Vt.AFTER_REVIEWS},{label:Oa(),value:Vt.BEFORE_REVIEWS}]}function Iu(){return[{label:Aa(),value:wr.SUSPEND},{label:Ta(),value:wr.TAG_ONLY}]}function Lu(){return[{label:Ra(),value:Qt.DUE},{label:Da(),value:Qt.RANDOM}]}function Eu(){return[{label:Ia(),value:pt.BURY_CARD},{label:La(),value:pt.ANSWER_AGAIN},{label:Ea(),value:pt.ANSWER_GOOD},{label:Ma(),value:pt.ANSWER_HARD},{label:Na(),value:pt.SHOW_REMINDER}]}function Mu(){return[{label:Va(),value:_r.SHOW_ANSWER},{label:Fa(),value:_r.SHOW_REMINDER}]}function Nu(r){const e=[{label:r?Wa():Ha(),value:Fe.EASE_ASCENDING},{label:r?Ba():za(),value:Fe.EASE_DESCENDING}];return r&&e.reverse(),e}var Vu=U("<!> <!> <!> <!> <!>",1);function Fu(r,e){ge(e,!1);const s=Pe(),t=()=>oe(c,"$config",s);let n=W(e,"state"),i=W(e,"api");const c=n().currentConfig,u=n().defaults,o={secondsToShowQuestion:{title:Ga(),help:ja()},secondsToShowAnswer:{title:qa(),help:Ua()},waitForAudio:{title:Qa(),help:Ka()},questionAction:{title:Ya(),help:Xa()},answerAction:{title:Ja(),help:Za()}},d=Object.values(o);let m=M(),_=M();function f(S){a(m).show(),a(_).to(S)}me();var R=ae(()=>Rr());Ve(r,{get title(){return a(R)},children:(S,O)=>{Be(S,{slotHost:Q,get api(){return i()},children:(C,A)=>{var w=Vu(),B=ee(w);Q(B,{children:($,N)=>{Ue($,{get value(){return t().secondsToShowQuestion},set value(p){J(c,k(t).secondsToShowQuestion=p,k(t))},get defaultValue(){return u.secondsToShowQuestion},step:.1,children:(p,P)=>{Z(p,{$$events:{click:()=>f(Object.keys(o).indexOf("secondsToShowQuestion"))},children:(y,E)=>{var T=X();V(()=>G(T,o.secondsToShowQuestion.title)),g(y,T)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var D=l(l(B,!0));Q(D,{children:($,N)=>{Ue($,{get value(){return t().secondsToShowAnswer},set value(p){J(c,k(t).secondsToShowAnswer=p,k(t))},get defaultValue(){return u.secondsToShowAnswer},step:.1,children:(p,P)=>{Z(p,{$$events:{click:()=>f(Object.keys(o).indexOf("secondsToShowAnswer"))},children:(y,E)=>{var T=X();V(()=>G(T,o.secondsToShowAnswer.title)),g(y,T)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var H=l(l(D,!0));Q(H,{children:($,N)=>{Ne($,{get value(){return t().waitForAudio},set value(p){J(c,k(t).waitForAudio=p,k(t))},get defaultValue(){return u.waitForAudio},children:(p,P)=>{Z(p,{$$events:{click:()=>f(Object.keys(o).indexOf("waitForAudio"))},children:(y,E)=>{var T=X();V(()=>G(T,o.waitForAudio.title)),g(y,T)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var I=l(l(H,!0));Q(I,{children:($,N)=>{var p=ae(Mu);Qe($,{get value(){return t().questionAction},set value(P){J(c,k(t).questionAction=P,k(t))},get defaultValue(){return u.questionAction},get choices(){return a(p)},children:(P,y)=>{Z(P,{$$events:{click:()=>f(Object.keys(o).indexOf("questionAction"))},children:(E,T)=>{var b=X();V(()=>G(b,o.questionAction.title)),g(E,b)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var v=l(l(I,!0));Q(v,{children:($,N)=>{var p=ae(Eu);Qe($,{get value(){return t().answerAction},set value(P){J(c,k(t).answerAction=P,k(t))},get defaultValue(){return u.answerAction},get choices(){return a(p)},children:(P,y)=>{Z(P,{$$events:{click:()=>f(Object.keys(o).indexOf("answerAction"))},children:(E,T)=>{var b=X();V(()=>G(b,o.answerAction.title)),g(E,b)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(C,w)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(S,O)=>{var C=ae(()=>Rr());qe(S,{get title(){return a(C)},get url(){return ce.DeckOptions.autoAdvance},slot:"tooltip",helpSections:d,$$events:{mount:A=>{x(m,A.detail.modal),x(_,A.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}var Wu=U("<!> <!> <!>",1);function Hu(r,e){ge(e,!1);const s=Pe(),t=()=>oe(c,"$config",s);let n=W(e,"state"),i=W(e,"api");const c=n().currentConfig,u=n().defaults,o=`

`+el(),d={buryNewSiblings:{title:tl(),help:rl()+o},buryReviewSiblings:{title:sl(),help:nl()+o},buryInterdayLearningSiblings:{title:al(),help:ll()+o}},m=Object.values(d);let _=M(),f=M();function R(O){a(_).show(),a(f).to(O)}me();var S=ae(()=>Dr());Ve(r,{get title(){return a(S)},children:(O,C)=>{Be(O,{slotHost:Q,get api(){return i()},children:(A,w)=>{var B=Wu(),D=ee(B);Q(D,{children:(v,$)=>{Ne(v,{get value(){return t().buryNew},set value(N){J(c,k(t).buryNew=N,k(t))},get defaultValue(){return u.buryNew},children:(N,p)=>{Z(N,{$$events:{click:()=>R(Object.keys(d).indexOf("buryNewSiblings"))},children:(P,y)=>{var E=X();V(()=>G(E,d.buryNewSiblings.title)),g(P,E)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var H=l(l(D,!0));Q(H,{children:(v,$)=>{Ne(v,{get value(){return t().buryReviews},set value(N){J(c,k(t).buryReviews=N,k(t))},get defaultValue(){return u.buryReviews},children:(N,p)=>{Z(N,{$$events:{click:()=>R(Object.keys(d).indexOf("buryReviewSiblings"))},children:(P,y)=>{var E=X();V(()=>G(E,d.buryReviewSiblings.title)),g(P,E)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var I=l(l(H,!0));Q(I,{children:(v,$)=>{Ne(v,{get value(){return t().buryInterdayLearning},set value(N){J(c,k(t).buryInterdayLearning=N,k(t))},get defaultValue(){return u.buryInterdayLearning},children:(N,p)=>{Z(N,{$$events:{click:()=>R(Object.keys(d).indexOf("buryInterdayLearningSiblings"))},children:(P,y)=>{var E=X();V(()=>G(E,d.buryInterdayLearningSiblings.title)),g(P,E)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(A,B)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(O,C)=>{var A=ae(()=>Dr());qe(O,{get title(){return a(A)},get url(){return ce.Studying.siblingsAndBurying},slot:"tooltip",helpSections:m,$$events:{mount:w=>{x(_,w.detail.modal),x(f,w.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}function Bu(){}var zu=U('<hr class="dropdown-divider">');function Gu(r){var e=zu();g(r,e)}var ju=U('<div class="save svelte-ymxw35"> </div>'),qu=U('<div style="display: contents"><!></div>',1),Uu=U("<!> <!> <!> <!> <!> <!> <!>",1),Qu=U('<div class="d-flex"><div style="display: contents"><!></div> <!> <!></div>');function Ku(r,e){ge(e,!1);const s=window.getComputedStyle(document.body).direction=="rtl",t=ss();let n=W(e,"state");async function i(){if(await Jt(),n().defaultConfigSelected()){alert(il());return}const S=(n().removalWilLForceFullSync()?ol()+" ":"")+ul({name:n().getCurrentName()});if(confirm(tn(S)))try{n().removeCurrentConfig(),t("remove")}catch(O){alert(O)}}async function c(S){if(await ws(),S===yt.COMPUTE_ALL_WEIGHTS&&!we(n().fsrs)){alert(cl());return}n().save(S)}const u="Control+Enter";let o=M(!1);me();var d=Qu(),m=q(d),_=ae(()=>Ji(u));Oe(m,()=>({"--border-left-radius":s?"0":"var(--border-radius)","--border-right-radius":s?"var(--border-radius)":"0"})),eo(m.lastChild,{primary:!0,get tooltip(){return a(_)},$$events:{click:()=>c(yt.NORMAL)},children:(S,O)=>{var C=ju(),A=q(C);V(()=>G(A,dl())),L(C),g(S,C)},$$slots:{default:!0},$$legacy:!0}),L(m);var f=l(l(m,!0));Xi(f,{keyCombination:u,$$events:{action:()=>c(yt.NORMAL)},$$legacy:!0});var R=l(l(f,!0));pn(R,{get show(){return a(o)},closeOnInsideClick:!0,inline:!0,$$events:{close:()=>x(o,!1)},$$slots:{reference:(S,O)=>{var C=qu(),A=ee(C);Oe(A,()=>({"--border-right-radius":s?"0":"var(--border-radius)","--border-left-radius":s?"var(--border-radius)":"0"})),Fn(A.lastChild,{class:"chevron",slot:"reference",iconSize:80,$$events:{click:()=>x(o,!a(o))},children:(w,B)=>{Ot(w,{icon:vs,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(A),g(S,C)},floating:(S,O)=>{yn(S,{slot:"floating",children:(C,A)=>{var w=Uu(),B=ee(w);vt(B,{$$events:{click:()=>t("add")},children:(p,P)=>{var y=X();V(()=>G(y,is())),g(p,y)},$$slots:{default:!0},$$legacy:!0});var D=l(l(B,!0));vt(D,{$$events:{click:()=>t("clone")},children:(p,P)=>{var y=X();V(()=>G(y,os())),g(p,y)},$$slots:{default:!0},$$legacy:!0});var H=l(l(D,!0));vt(H,{$$events:{click:()=>t("rename")},children:(p,P)=>{var y=X();V(()=>G(y,us())),g(p,y)},$$slots:{default:!0},$$legacy:!0});var I=l(l(H,!0));vt(I,{$$events:{click:i},children:(p,P)=>{var y=X();V(()=>G(y,$l())),g(p,y)},$$slots:{default:!0},$$legacy:!0});var v=l(l(I,!0));Gu(v);var $=l(l(v,!0));vt($,{$$events:{click:()=>c(yt.APPLY_TO_CHILDREN)},children:(p,P)=>{var y=X();V(()=>G(y,gl())),g(p,y)},$$slots:{default:!0},$$legacy:!0});var N=l(l($,!0));vt(N,{$$events:{click:()=>c(yt.COMPUTE_ALL_WEIGHTS)},children:(p,P)=>{var y=X();V(()=>G(y,fl())),g(p,y)},$$slots:{default:!0},$$legacy:!0}),g(C,w)},$$slots:{default:!0},$$legacy:!0})}},$$legacy:!0}),L(d),g(r,d),fe()}var Yu=U('<div class="modal fade" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content svelte-18qg9px"><div class="modal-header"><h5 class="modal-title" id="modalLabel"> </h5> <button type="button" class="btn-close svelte-18qg9px" data-bs-dismiss="modal" aria-label="Close"></button></div> <div class="modal-body"><form><div class="mb-3"><label for="prompt-input" class="col-form-label"> </label> <input id="prompt-input" type="text" class="form-control svelte-18qg9px"></div></form></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">OK</button></div></div></div></div>');function Xu(r,e){ge(e,!1);const s=Pe(),t=()=>oe(qi,"$pageTheme",s),n=M();let i=W(e,"title"),c=W(e,"prompt"),u=W(e,"initialValue",0,""),o=W(e,"onOk");const d=Math.random().toString(36).substring(2),m=Zt(hs);let _=M(),f,R=M();function S(){o()(a(R).value),f.hide(),x(n,u())}function O(){f.hide(),x(n,u())}function C(){a(R).focus(),w(!0)}function A(){w(!1)}const{set:w,remove:B}=Cn(O);tr(()=>{a(_).addEventListener("shown.bs.modal",C),a(_).addEventListener("hidden.bs.modal",A),f=new Ui(a(_),{keyboard:!1}),m.set(d,f)}),Nn(()=>{B(),a(_).removeEventListener("shown.bs.modal",C),a(_).removeEventListener("hidden.bs.modal",A)}),ie(()=>je(u()),()=>{x(n,u())}),Le(),me();var D=Yu();Ct(D,F=>x(_,F),()=>a(_));var H=q(D),I=q(H),v=q(I),$=q(v),N=q($);L($);var p=l(l($,!0));L(v);var P=l(l(v,!0)),y=q(P),E=q(y),T=q(E),b=q(T);L(T);var z=l(l(T,!0));Ct(z,F=>x(R,F),()=>a(R)),Je(z),L(E),L(y),L(P);var Y=l(l(P,!0)),te=q(Y),j=l(l(te,!0));return L(Y),L(I),L(H),L(D),V(()=>{var F;mt(I,"default-colors",t().isDark),G(N,i()),mt(p,"invert",t().isDark),G(b,`${(F=c())!=null?F:""}:`),mt(z,"nightMode",t().isDark)}),Ce("submit",y,Zi(S),!1),Tt(z,()=>a(n),F=>x(n,F)),Ce("click",te,O,!1),Ce("click",j,S,!1),g(r,D),Ae(e,"modalKey",d),fe({modalKey:d})}var Ju=U('<div class="button-bar svelte-1h7iokg"><!> <!></div>'),Zu=U('<!> <div style="display: contents"><!></div>',1);function ec(r,e){ge(e,!1);const s=Pe(),t=()=>oe(u,"$configList",s),n=M(),i=M();let c=W(e,"state");const u=c().configList,o=ss(),d=()=>o("presetchange");function m(P){const y=vl({decks:P.useCount});return`${P.name} (${y})`}function _(P){c().setCurrentIndex(P.detail.value),d()}function f(P){const y=P.trim();y.length&&(c().addConfig(y),d())}function R(P){const y=P.trim();y.length&&(c().cloneConfig(y),d())}function S(P){c().setCurrentName(P)}const O=Zt(hs);let C=M(),A=M(""),w=M(""),B=M(Bu);function D(){x(w,is()),x(B,f),x(A,""),O.get(a(C)).show()}function H(){x(w,os()),x(B,R),x(A,c().getCurrentName()),O.get(a(C)).show()}function I(){x(w,us()),x(B,S),x(A,c().getCurrentName()),O.get(a(C)).show()}ie(()=>t(),()=>{x(n,t().findIndex(P=>P.current))}),ie(()=>(t(),a(n)),()=>{x(i,m(t()[a(n)]))}),Le(),me();var v=Zu(),$=ee(v),N=ae(()=>hl());Xu($,{get title(){return a(w)},get prompt(){return a(N)},get initialValue(){return a(A)},get onOk(){return a(B)},get modalKey(){return a(C)},set modalKey(P){x(C,P)},$$legacy:!0});var p=l(l($,!0));Oe(p,()=>({"--gutter-block":"0.5rem","--sticky-borders":"0 0 1px"})),to(p.lastChild,{breakpoint:"sm",children:(P,y)=>{var E=Ju(),T=q(E);$n(T,{class:"flex-grow-1 mr1",get value(){return a(n)},set value(z){x(n,z)},get label(){return a(i)},get list(){return t()},parser:z=>({content:m(z),value:z.idx}),$$events:{change:_},$$legacy:!0});var b=l(l(T,!0));Ku(b,{get state(){return c()},$$events:{add:D,clone:H,rename:I,remove:d},$$legacy:!0}),L(E),g(P,E)},$$slots:{default:!0},$$legacy:!0}),L(p),g(r,v),fe()}var tc=U('<li class="svelte-1ibi4j8"><button class="svelte-1ibi4j8"> </button></li>'),rc=U('<ul class="svelte-1ibi4j8"></ul>');function Xr(r,e){ge(e,!1);let s=W(e,"tabs"),t=W(e,"value",4),n=M(i());function i(){const d=s().slice().reverse().findIndex(m=>m.value!==null);return d===-1?0:s().length-d-1}function c(d){for(const[m,_]of s().entries())d===m?_.enable(t()):d>m?_.reset():_.disable()}const u=d=>()=>x(n,d);ie(()=>a(n),()=>{c(a(n))}),ie(()=>(je(s()),a(n)),()=>{var d;t((d=s()[a(n)].value)!=null?d:0)}),ie(()=>(je(s()),a(n),je(t())),()=>{s()[a(n)].setValue(t())}),Le(),me();var o=rc();At(o,9,s,sr,(d,m,_)=>{var f=tc(),R=q(f),S=q(R);L(R),L(f),V(()=>{mt(f,"active",a(n)===pe(_)),G(S,pe(m).title)}),Ce("click",R,u(pe(_)),!1),g(d,f)}),L(o),g(r,o),fe()}var sc=U("<div> </div>");function Ee(r,e){ge(e,!1);let s=W(e,"warning"),t=W(e,"className",0,"alert-warning");me();var n=Me(),i=ee(n);be(i,s,c=>{ke(c,{children:(u,o)=>{var d=sc();Hr(1,d,()=>Br),Hr(2,d,()=>Br);var m=q(d);V(()=>G(m,rn(s()))),L(d),V(()=>{var _;return ht(d,`col-12 alert ${(_=t())!=null?_:""} mb-0`)}),g(u,d)},$$slots:{default:!0},$$legacy:!0})}),g(r,n),fe()}var nc=U("<!> <!> <!> <!> <!>",1);function ac(r,e){var T,b,z,Y,te,j;ge(e,!1);const s=Pe(),t=()=>oe(_,"$config",s),n=()=>oe(f,"$limits",s),i=()=>oe(S,"$newCardsIgnoreReviewLimit",s),c=()=>oe(O,"$applyAllParentLimits",s),u=M();let o=W(e,"state"),d=W(e,"api");function m(){_e(D,a(D)[0]=new Ye(St(),t().newPerDay,F=>J(_,k(t).newPerDay=F,k(t)),t().newPerDay,null)),_e(H,a(H)[0]=new Ye(St(),t().reviewsPerDay,F=>J(_,k(t).reviewsPerDay=F,k(t)),t().reviewsPerDay,null))}const _=o().currentConfig,f=o().deckLimits,R=o().defaults,S=o().newCardsIgnoreReviewLimit,O=o().applyAllParentLimits,C=`

`+ml()+`

`+pl(),A=`

`+yl()+C,w=Xt()+`

`+Cl(),B=Xt()+`

`+wl(),D=M([new Ye(St(),t().newPerDay,F=>J(_,k(t).newPerDay=F,k(t)),t().newPerDay,null),new Ye(Ir(),(T=n().new)!=null?T:null,F=>J(f,k(n).new=F!=null?F:void 0,k(n)),null,null),new Ye(Lr(),n().newTodayActive&&(b=n().newToday)!=null?b:null,F=>J(f,k(n).newToday=F!=null?F:void 0,k(n)),null,(z=n().newToday)!=null?z:null)]),H=M([new Ye(St(),t().reviewsPerDay,F=>J(_,k(t).reviewsPerDay=F,k(t)),t().reviewsPerDay,null),new Ye(Ir(),(Y=n().review)!=null?Y:null,F=>J(f,k(n).review=F!=null?F:void 0,k(n)),null,null),new Ye(Lr(),n().reviewTodayActive&&(te=n().reviewToday)!=null?te:null,F=>J(f,k(n).reviewToday=F!=null?F:void 0,k(n)),null,(j=n().reviewToday)!=null?j:null)]);let I=M(0),v=M(0);const $={newLimit:{title:_l(),help:kl()+C,url:ce.DeckOptions.newCardsday},reviewLimit:{title:Pl(),help:bl()+A,url:ce.DeckOptions.maximumReviewsday},newCardsIgnoreReviewLimit:{title:Sl(),help:w,url:ce.DeckOptions.newCardsday},applyAllParentLimits:{title:xl(),help:B,url:ce.DeckOptions.newCardsday}},N=Object.values($);let p=M(),P=M();function y(F){a(p).show(),a(P).to(F)}ie(()=>(a(I),a(v)),()=>{x(u,Math.min(9999,a(I)*10)>a(v)?Ol({cards:a(I),expected:Math.min(9999,a(I)*10)}):"")}),Le(),me();var E=ae(()=>Er());return Ve(r,{get title(){return a(E)},children:(F,ve)=>{Be(F,{slotHost:Q,get api(){return d()},children:(he,de)=>{var Se=nc(),se=ee(Se);Q(se,{children:(xe,it)=>{Ie(xe,{get value(){return a(I)},set value(ye){x(I,ye)},get defaultValue(){return R.newPerDay},children:(ye,st)=>{Z(ye,{$$events:{click:()=>y(Object.keys($).indexOf("newLimit"))},children:(Te,ot)=>{var Ke=X();V(()=>G(Ke,$.newLimit.title)),g(Te,Ke)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tabs:(ye,st)=>{Xr(ye,{slot:"tabs",get tabs(){return a(D)},get value(){return a(I)},set value(Te){x(I,Te)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var $e=l(l(se,!0));Q($e,{children:(xe,it)=>{Ie(xe,{get value(){return a(v)},set value(ye){x(v,ye)},get defaultValue(){return R.reviewsPerDay},children:(ye,st)=>{Z(ye,{$$events:{click:()=>y(Object.keys($).indexOf("reviewLimit"))},children:(Te,ot)=>{var Ke=X();V(()=>G(Ke,$.reviewLimit.title)),g(Te,Ke)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tabs:(ye,st)=>{Xr(ye,{slot:"tabs",get tabs(){return a(H)},get value(){return a(v)},set value(Te){x(v,Te)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var ze=l(l($e,!0));Q(ze,{children:(xe,it)=>{Ee(xe,{get warning(){return a(u)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var bt=l(l(ze,!0));Q(bt,{children:(xe,it)=>{Ne(xe,{get value(){return i()},set value(ye){et(S,ye)},defaultValue:!1,children:(ye,st)=>{Z(ye,{$$events:{click:()=>y(Object.keys($).indexOf("newCardsIgnoreReviewLimit"))},children:(Te,ot)=>{wt(Te,{get title(){return $.newCardsIgnoreReviewLimit.title},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var rt=l(l(bt,!0));Q(rt,{children:(xe,it)=>{Ne(xe,{get value(){return c()},set value(ye){et(O,ye)},defaultValue:!1,children:(ye,st)=>{Z(ye,{$$events:{click:()=>y(Object.keys($).indexOf("applyAllParentLimits"))},children:(Te,ot)=>{wt(Te,{get title(){return $.applyAllParentLimits.title},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(he,Se)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(F,ve)=>{var he=ae(()=>Er());qe(F,{get title(){return a(he)},get url(){return ce.DeckOptions.dailyLimits},slot:"tooltip",helpSections:N,$$events:{mount:de=>{x(p,de.detail.modal),x(P,de.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),Ae(e,"onPresetChange",m),fe({onPresetChange:m})}var lc=U("<!> <!> <!> <!> <!>",1);function ic(r,e){ge(e,!1);const s=Pe(),t=()=>oe(u,"$config",s),n=()=>oe(d,"$fsrs",s);let i=W(e,"state"),c=W(e,"api");const u=i().currentConfig,o=i().defaults,d=i().fsrs,m=`

`+Al();let _=M([]);const f={newGatherPriority:{title:Tl(),help:Rl()+m},newCardSortOrder:{title:Dl(),help:Il()+m},newReviewPriority:{title:Ll(),help:El()+m},interdayStepPriority:{title:Ml(),help:Nl()+m},reviewSortOrder:{title:Vl(),help:Fl()+m}},R=Object.values(f);let S=M(),O=M();function C(w){a(S).show(),a(O).to(w)}ie(()=>(t(),a(_)),()=>{switch(t().newCardGatherPriority){case Xe.RANDOM_NOTES:x(_,[We.TEMPLATE_THEN_RANDOM,We.RANDOM_NOTE_THEN_TEMPLATE]);break;case Xe.RANDOM_CARDS:x(_,[We.TEMPLATE_THEN_RANDOM,We.RANDOM_NOTE_THEN_TEMPLATE,We.RANDOM_CARD]);break;default:x(_,[]);break}a(_).includes(t().newCardSortOrder)&&J(u,k(t).newCardSortOrder=0,k(t)),t().newCardSortOrder in We||J(u,k(t).newCardSortOrder=0,k(t))}),Le(),me();var A=ae(()=>Mr());Ve(r,{get title(){return a(A)},children:(w,B)=>{Be(w,{slotHost:Q,get api(){return c()},children:(D,H)=>{var I=lc(),v=ee(I);Q(v,{children:(y,E)=>{var T=ae(Tu);Qe(y,{get value(){return t().newCardGatherPriority},set value(b){J(u,k(t).newCardGatherPriority=b,k(t))},get defaultValue(){return o.newCardGatherPriority},get choices(){return a(T)},children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("newGatherPriority"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.newGatherPriority.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var $=l(l(v,!0));Q($,{children:(y,E)=>{var T=ae(Ru);Qe(y,{get value(){return t().newCardSortOrder},set value(b){J(u,k(t).newCardSortOrder=b,k(t))},get defaultValue(){return o.newCardSortOrder},get choices(){return a(T)},get disabledChoices(){return a(_)},children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("newCardSortOrder"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.newCardSortOrder.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var N=l(l($,!0));Q(N,{children:(y,E)=>{var T=ae(Yr);Qe(y,{get value(){return t().newMix},set value(b){J(u,k(t).newMix=b,k(t))},get defaultValue(){return o.newMix},get choices(){return a(T)},children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("newReviewPriority"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.newReviewPriority.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var p=l(l(N,!0));Q(p,{children:(y,E)=>{var T=ae(Yr);Qe(y,{get value(){return t().interdayLearningMix},set value(b){J(u,k(t).interdayLearningMix=b,k(t))},get defaultValue(){return o.interdayLearningMix},get choices(){return a(T)},children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("interdayStepPriority"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.interdayStepPriority.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var P=l(l(p,!0));Q(P,{children:(y,E)=>{var T=ae(()=>Du(n()));Qe(y,{get value(){return t().reviewOrder},set value(b){J(u,k(t).reviewOrder=b,k(t))},get defaultValue(){return o.reviewOrder},get choices(){return a(T)},children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("reviewSortOrder"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.reviewSortOrder.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(D,I)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(w,B)=>{var D=ae(()=>Mr());qe(w,{get title(){return a(D)},get url(){return ce.DeckOptions.displayOrder},slot:"tooltip",helpSections:R,$$events:{mount:H=>{x(S,H.detail.modal),x(O,H.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}var oc=U('<textarea class="w-100"></textarea>');function uc(r,e){ge(e,!1);let s=W(e,"value",4),t=W(e,"defaults"),n=M();function i(o){return o.map(d=>d.toFixed(4)).join(", ")}function c(){s(this.value.replace(/ /g,"").split(",").filter(o=>o).map(o=>Number(o)))}ie(()=>je(s()),()=>{x(n,i(s()))}),Le(),me();var u=oc();as(u),V(()=>Ge(u,"placeholder",i(t()))),V(()=>rr(u,a(n))),Ce("blur",u,c,!1),g(r,u),fe()}var cc=U("<!> <!>",1);function dc(r,e){let s=W(e,"value",4),t=W(e,"defaultValue"),n=W(e,"defaults");var i=cc(),c=ee(i);Ze(c,at(e),{});var u=l(l(c,!0));lt(u,{children:(o,d)=>{uc(o,{get value(){return s()},set value(m){s(m)},get defaults(){return n()},$$legacy:!0})},$$slots:{default:!0,revert:(o,d)=>{kt(o,{slot:"revert",get value(){return s()},set value(m){s(m)},get defaultValue(){return t()},$$legacy:!0})}},$$legacy:!0}),g(r,i)}var $c=U('<input type="text" class="w-100 mb-1">');function gc(r,e){let s=W(e,"value",4),t=W(e,"placeholder");lt(r,{children:(n,i)=>{var c=$c();Je(c),V(()=>Ge(c,"placeholder",t())),Tt(c,s,u=>s(u)),g(n,c)},$$slots:{default:!0},$$legacy:!0})}function Jr(r,e,s){const t=Pr(r);if(t.selectAll(".lines").remove(),t.selectAll(".hover-columns").remove(),t.selectAll(".focus-line").remove(),t.selectAll(".legend").remove(),s.length==0)return br(t,!1),[];const n=t.transition().duration(600),i=new Date,c=s.map(v=>({...v,date:new Date(i.getTime()+v.x*24*60*60*1e3)})),u=i,o=Sr(c,v=>v.date),d=ao().domain([u,o]).range([e.marginLeft,e.width-e.marginRight]);t.select(".x-ticks").call(v=>v.transition(n).call(wn(d).ticks(7).tickSizeOuter(0))).attr("direction","ltr");const m=v=>zr(v,!0),_=Sr(c,v=>v.y),f=_n().range([e.height-e.marginBottom,e.marginTop]).domain([0,_]).nice();t.select(".y-ticks").call(v=>v.transition(n).call(kn(f).ticks(e.height/50).tickSizeOuter(0).tickFormat(m))).attr("direction","ltr"),t.select(".y-ticks .y-axis-title").remove(),t.select(".y-ticks").append("text").attr("class","y-axis-title").attr("transform","rotate(-90)").attr("y",0-e.marginLeft).attr("x",0-e.height/2).attr("dy","1em").attr("fill","currentColor").style("text-anchor","middle").text("Review Time per day");const R=c.map(v=>[d(v.date),f(v.y),v.label]),S=$o(R,v=>Object.assign(v,{z:v[0][2]}),v=>v[2]),O=fo;t.append("g").attr("class","lines").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("path").data(Array.from(S.entries())).join("path").attr("stroke",(v,$)=>O[$%O.length]).attr("d",v=>Pn()(v[1].map($=>[$[0],$[1]]))).attr("data-group",v=>v[0]);const C=t.append("line").attr("class","focus-line").attr("y1",e.marginTop).attr("y2",e.height-e.marginBottom).attr("stroke","black").attr("stroke-width",1).style("opacity",0),A=Array.from(S.values()).reduce((v,$)=>v.length>$.length?v:$),w=e.width/A.length;t.append("g").attr("class","hover-columns").selectAll("rect").data(A).join("rect").attr("x",v=>v[0]-w/2).attr("y",e.marginTop).attr("width",w).attr("height",e.height-e.marginTop-e.marginBottom).attr("fill","transparent").on("mousemove",B).on("mouseout",()=>{C.style("opacity",0),bn()});function B(v,$){Sn(v,document.body);const N=d.invert($[0]),p={};S.forEach((E,T)=>{const b=On(te=>d.invert(te[0])).left,z=b(E,N),Y=E[z-1]||E[z];Y&&(p[T]=f.invert(Y[1]))}),C.attr("x1",$[0]).attr("x2",$[0]).style("opacity",1);const P=+((N.getTime()-Date.now())/(60*60*24*1e3)).toFixed();let y=`Date: ${sn(N)}<br>In ${P} Days<br>`;for(const[E,T]of Object.entries(p))y+=`#${E}: ${zr(T)}<br>`;xn(y,v.pageX,v.pageY)}const D=t.append("g").attr("class","legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(Array.from(S.keys())).join("g").attr("transform",(v,$)=>`translate(0,${$*20})`).attr("cursor","pointer").on("click",(v,$)=>H(v,$));D.append("rect").attr("x",e.width-e.marginRight+36).attr("width",12).attr("height",12).attr("fill",(v,$)=>O[$%O.length]),D.append("text").attr("x",e.width-e.marginRight+52).attr("y",7).attr("dy","0.3em").attr("fill","currentColor").text(v=>`#${v}`);const H=(v,$)=>{const N=$,p=t.select(`path[data-group="${N}"]`),P=p.classed("hidden"),y=v.currentTarget;p.classed("hidden",!P),p.style("display",()=>P?null:"none"),Pr(y).select("rect").style("opacity",P?1:.5)};return br(t,!0),[]}var fc=U("Days to simulate",1),vc=U(" <!>",1),hc=U("Days to simulate",1),mc=U("Additional new cards to simulate",1),pc=U("New cards/day",1),yc=U("Maximum reviews/day",1),Cc=U("Maximum interval",1),wc=En("<svg><!><!><!><!></svg><!>",1),_c=U('<!> <!> <div class="ms-1 me-1"><!> <!> <button><!></button> <button><!></button> <div><!></div> <!></div> <div class="m-2"><!> <!></div> <div class="m-2"><details><summary> </summary> <!> <button><!></button> <!> <div> </div></details></div> <div class="m-2"><details><summary>FSRS simulator (experimental)</summary> <!> <!> <!> <!> <!> <button> </button> <button> </button> <div> </div> <!></details></div>',1);function kc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(v,"$daysSinceLastOptimization",s),n=()=>oe(B,"$presetName",s),i=()=>oe(D,"$config",s),c=()=>oe(I,"$fsrsReschedule",s),u=M(),o=M(),d=M(),m=M(),_=M(),f=M(),R=M(),S=M(),O=M(),C=M();let A=W(e,"state"),w=W(e,"openHelpModal");const B=A().currentPresetName,D=A().currentConfig,H=A().defaults,I=A().fsrsReschedule,v=A().daysSinceLastOptimization;let $=M(),N=M(!1),p=M(!1),P=M(!1),y=M(0),E=M();const T=M(new Us({daysToSimulate:365,lossAversion:2.5})),b=M(new Qs({weights:i().fsrsWeights,desiredRetention:i().desiredRetention,deckSize:0,daysToSimulate:365,newLimit:i().newPerDay,reviewLimit:i().reviewsPerDay,maxInterval:i().maximumReviewInterval,search:`preset:"${A().getCurrentName()}" -is:suspended`}));function z(h){const re=Math.round(100/.23456790123456783*(Math.pow(h,1/-.5)-1));return re===100?"":ql({days:re})}function Y(h){return h<.7||h>.97?"alert-danger":h<.8||h>.95?"alert-warning":"alert-info"}function te(){return BigInt(i().ignoreRevlogsBeforeDate?new Date(i().ignoreRevlogsBeforeDate).getTime():0)}async function j(){if(a(N)){await Ft({});return}if(A().presetAssignmentsChanged()){alert(zt());return}x(N,!0),x($,void 0);try{await xt(async()=>{const h=await Ks({search:i().weightSearch?i().weightSearch:a(d),ignoreRevlogsBeforeMs:te(),currentWeights:i().fsrsWeights});(i().fsrsWeights.length&&i().fsrsWeights.every((K,ne)=>K.toFixed(4)===h.weights[ne].toFixed(4))||h.weights.length===0)&&setTimeout(()=>alert(Ul()),100),a($)&&_e($,a($).current=a($).total),J(D,k(i).fsrsWeights=h.weights,k(i))},h=>{h.value.case==="computeWeights"&&x($,h.value.value)})}finally{x(N,!1)}}async function F(){if(a(p)){await Ft({});return}if(A().presetAssignmentsChanged()){alert(zt());return}x(p,!0),x($,void 0);try{await xt(async()=>{const h=i().weightSearch?i().weightSearch:a(d),K=await Ys({weights:i().fsrsWeights,search:h,ignoreRevlogsBeforeMs:te()});a($)&&_e($,a($).current=a($).total),setTimeout(()=>alert(`Log loss: ${K.logLoss.toFixed(4)}, RMSE(bins): ${(K.rmseBins*100).toFixed(2)}%. ${Ql()}`),200)},h=>{h.value.case==="computeWeights"&&x($,h.value.value)})}finally{x(p,!1)}}async function ve(){if(a(P)){await Ft({});return}if(A().presetAssignmentsChanged()){alert(zt());return}x(P,!0),x(E,void 0);try{await xt(async()=>{_e(T,a(T).maxInterval=i().maximumReviewInterval),_e(T,a(T).weights=i().fsrsWeights),_e(T,a(T).search=`preset:"${A().getCurrentName()}" -is:suspended`);const h=await Xs(a(T));x(y,h.optimalRetention),x(E,void 0)},h=>{h.value.case==="computeRetention"&&x(E,h.value.value)})}finally{x(P,!1)}}function he(h){if(!h||!h.total)return"";const K=(h.current/h.total*100).toFixed(1);return h instanceof Js?`${K}%`:Kl({pct:K,reviews:h.reviews})}function de(h){return h?Yl({count:h.current}):""}function Se(h){return h?Xl({num:h.toFixed(2)}):""}let se=M([]);const $e=In();let ze=M(null);const bt=Wl();let rt=0,xe=[];function it(h,K){const ne=[];for(let ue=0;ue<h.length;ue++){let re=0,nt=0;for(let ft=Math.max(0,ue-K+1);ft<=ue;ft++)re+=h[ft],nt++;ne.push(re/nt)}return ne}async function ye(){let h;rt+=1;try{await xt(async()=>{_e(b,a(b).weights=i().fsrsWeights),_e(b,a(b).desiredRetention=i().desiredRetention),_e(b,a(b).search=`preset:"${A().getCurrentName()}" -is:suspended`),x(C,"processing..."),h=await Zs(a(b))},()=>{})}finally{if(x(C,""),h){const K=it(h.dailyTimeCost,Math.ceil(a(b).daysToSimulate/50));xe=xe.concat(K.map((ne,ue)=>({x:ue,y:ne,label:rt}))),x(se,Jr(a(ze),$e,xe))}}}function st(){xe=xe.filter(h=>h.label!==rt),rt=Math.max(0,rt-1),x(se,Jr(a(ze),$e,xe))}ie(()=>t(),()=>{x(u,t()>30?Hl():"")}),ie(()=>n(),()=>{n()&&x(y,0)}),ie(()=>(a(N),a(p),a(P)),()=>{x(o,a(N)||a(p)||a(P))}),ie(()=>je(A()),()=>{x(d,`preset:"${A().getCurrentName()}" -is:suspended`)}),ie(()=>i(),()=>{x(m,Number(i().desiredRetention.toFixed(2)))}),ie(()=>a(m),()=>{x(_,z(a(m)))}),ie(()=>a(m),()=>{x(f,Y(a(m)))}),ie(()=>a(T),()=>{a(T).daysToSimulate>3650&&_e(T,a(T).daysToSimulate=3650)}),ie(()=>a($),()=>{x(R,he(a($)))}),ie(()=>a(E),()=>{x(S,de(a(E)))}),ie(()=>a($),()=>{var h,K;x(O,(K=(h=a($))==null?void 0:h.reviews)!=null?K:void 0)}),ie(()=>{},()=>{x(C,"")}),Le(),me();var Te=_c(),ot=ee(Te);Ue(ot,{get value(){return i().desiredRetention},set value(h){J(D,k(i).desiredRetention=h,k(i))},get defaultValue(){return H.desiredRetention},min:.7,max:.99,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("desiredRetention")},children:(ne,ue)=>{var re=X();V(()=>G(re,cs())),g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var Ke=l(l(ot,!0));Ee(Ke,{get warning(){return a(_)},get className(){return a(f)},$$legacy:!0});var Dt=l(l(Ke,!0)),ir=q(Dt);dc(ir,{get value(){return i().fsrsWeights},set value(h){J(D,k(i).fsrsWeights=h,k(i))},defaultValue:[],get defaults(){return H.fsrsWeights},children:(h,K)=>{Z(h,{$$events:{click:()=>w()("modelWeights")},children:(ne,ue)=>{var re=X();V(()=>G(re,ds())),g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var or=l(l(ir,!0));gc(or,{get value(){return i().weightSearch},set value(h){J(D,k(i).weightSearch=h,k(i))},get placeholder(){return a(d)},$$legacy:!0});var ut=l(l(or,!0)),Ps=q(ut);be(Ps,()=>a(N),h=>{var K=X();V(()=>G(K,Bt())),g(h,K)},h=>{var K=X();V(()=>G(K,Bl())),g(h,K)}),L(ut);var ct=l(l(ut,!0)),bs=q(ct);be(bs,()=>a(p),h=>{var K=X();V(()=>G(K,Bt())),g(h,K)},h=>{var K=X();V(()=>G(K,zl())),g(h,K)}),L(ct);var It=l(l(ct,!0)),Ss=q(It);be(Ss,()=>a(N)||a(p),h=>{var K=X();V(()=>G(K,a(R))),g(h,K)},h=>{var K=Me(),ne=ee(K);be(ne,()=>a(O)!==void 0,ue=>{var re=X();V(()=>G(re,Gl({reviews:a(O)}))),g(ue,re)},null,!0),g(h,K)}),L(It);var xs=l(l(It,!0));Ee(xs,{get warning(){return a(u)},className:"alert-warning",$$legacy:!0}),L(Dt);var Lt=l(l(Dt,!0)),ur=q(Lt);Ne(ur,{get value(){return c()},set value(h){et(I,h)},defaultValue:!1,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("rescheduleCardsOnChange")},children:(ne,ue)=>{var re=ae(()=>gs());wt(ne,{get title(){return a(re)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var Os=l(l(ur,!0));be(Os,c,h=>{var K=ae(()=>Jl());Ee(h,{get warning(){return a(K)},$$legacy:!0})}),L(Lt);var Et=l(l(Lt,!0)),cr=q(Et),Mt=q(cr),As=q(Mt);V(()=>G(As,$s())),L(Mt);var dr=l(l(Mt,!0));Ie(dr,{get value(){return a(T).daysToSimulate},set value(h){_e(T,a(T).daysToSimulate=h)},defaultValue:365,min:1,max:3650,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("computeOptimalRetention")},children:(ne,ue)=>{var re=fc();g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var dt=l(l(dr,!0)),Ts=q(dt);be(Ts,()=>a(P),h=>{var K=X();V(()=>G(K,Bt())),g(h,K)},h=>{var K=X();V(()=>G(K,jl())),g(h,K)}),L(dt);var $r=l(l(dt,!0));be($r,()=>a(y),h=>{var K=vc(),ne=ee(K,!0);V(()=>{var re;return G(ne,`${(re=Se(a(y)))!=null?re:""} `)});var ue=l(ne);be(ue,()=>a(y)-i().desiredRetention>=.01,re=>{var nt=ae(()=>Zl());Ee(re,{get warning(){return a(nt)},className:"alert-warning",$$legacy:!0})}),g(h,K)});var gr=l(l($r,!0)),Rs=q(gr);L(gr),L(cr),L(Et);var fr=l(l(Et,!0)),vr=q(fr),Ds=q(vr),hr=l(l(Ds,!0));Ie(hr,{get value(){return a(b).daysToSimulate},set value(h){_e(b,a(b).daysToSimulate=h)},defaultValue:365,min:1,max:3650,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("simulateFsrsReview")},children:(ne,ue)=>{var re=hc();g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var mr=l(l(hr,!0));Ie(mr,{get value(){return a(b).deckSize},set value(h){_e(b,a(b).deckSize=h)},defaultValue:0,min:1,max:1e5,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("simulateFsrsReview")},children:(ne,ue)=>{var re=mc();g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var pr=l(l(mr,!0));Ie(pr,{get value(){return a(b).newLimit},set value(h){_e(b,a(b).newLimit=h)},get defaultValue(){return H.newPerDay},min:0,max:1e3,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("simulateFsrsReview")},children:(ne,ue)=>{var re=pc();g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var yr=l(l(pr,!0));Ie(yr,{get value(){return a(b).reviewLimit},set value(h){_e(b,a(b).reviewLimit=h)},get defaultValue(){return H.reviewsPerDay},min:0,max:1e3,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("simulateFsrsReview")},children:(ne,ue)=>{var re=yc();g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var Cr=l(l(yr,!0));Ie(Cr,{get value(){return a(b).maxInterval},set value(h){_e(b,a(b).maxInterval=h)},get defaultValue(){return H.maximumReviewInterval},min:1,max:36500,children:(h,K)=>{Z(h,{$$events:{click:()=>w()("simulateFsrsReview")},children:(ne,ue)=>{var re=Cc();g(ne,re)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var $t=l(l(Cr,!0)),Is=q($t);Is.nodeValue="Simulate",L($t);var gt=l(l($t,!0)),Ls=q(gt);Ls.nodeValue="Clear last simulation",L(gt);var Nt=l(l(gt,!0)),Es=q(Nt);L(Nt);var Ms=l(l(Nt,!0));An(Ms,{title:bt,children:(h,K)=>{var ne=wc(),ue=ee(ne);Ct(ue,Fs=>x(ze,Fs),()=>a(ze));var re=q(ue);uo(re);var nt=l(re);Tn(nt);var ft=l(nt);Rn(ft,{bounds:$e,$$legacy:!0});var Ns=l(ft);Dn(Ns,{bounds:$e,$$legacy:!0}),L(ue);var Vs=l(ue);co(Vs,{get tableData(){return a(se)},$$legacy:!0}),V(()=>Ge(ue,"viewBox",`0 0 ${$e.width} ${$e.height}`)),g(h,ne)},$$slots:{default:!0},$$legacy:!0}),L(vr),L(fr),V(()=>{var h,K,ne,ue,re;ht(ut,`btn ${(h=a(N)?"btn-warning":"btn-primary")!=null?h:""}`),ut.disabled=!a(N)&&a(o),ht(ct,`btn ${(K=a(p)?"btn-warning":"btn-primary")!=null?K:""}`),ct.disabled=!a(p)&&a(o),ht(dt,`btn ${(ne=a(P)?"btn-warning":"btn-primary")!=null?ne:""}`),dt.disabled=!a(P)&&a(o),G(Rs,a(S)),ht($t,`btn ${(ue=a(o)?"btn-warning":"btn-primary")!=null?ue:""}`),$t.disabled=a(o),ht(gt,`btn ${(re=a(o)?"btn-warning":"btn-primary")!=null?re:""}`),gt.disabled=a(o),G(Es,a(C))}),Ce("click",ut,()=>j(),!1),Ce("click",ct,()=>F(),!1),Ce("click",dt,()=>ve(),!1),Ce("click",$t,()=>ye(),!1),Ce("click",gt,()=>st(),!1),g(r,Te),fe()}var Pc=U("<!> <!> <!>",1);function bc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(u,"$fsrs",s),n=M();let i=W(e,"state"),c=W(e,"api");const u=i().fsrs,o={fsrs:{title:"FSRS",help:ei(),url:ce.DeckOptions.fsrs},desiredRetention:{title:cs(),help:ti(),sched:De.FSRS},modelWeights:{title:ds(),help:ri()+`

`+si(),sched:De.FSRS},rescheduleCardsOnChange:{title:gs(),help:ni(),sched:De.FSRS},computeOptimalRetention:{title:$s(),help:ai(),sched:De.FSRS}},d=Object.values(o);let m=M(),_=M();function f(R){a(m).show(),a(_).to(R)}ie(()=>t(),()=>{x(n,t()?li():"")}),Le(),me(),Ve(r,{title:"FSRS",children:(R,S)=>{Be(R,{slotHost:Q,get api(){return c()},children:(O,C)=>{var A=Pc(),w=ee(A);Q(w,{children:(H,I)=>{Ne(H,{get value(){return t()},set value(v){et(u,v)},defaultValue:!1,children:(v,$)=>{Z(v,{$$events:{click:()=>f(Object.keys(o).indexOf("fsrs"))},children:(N,p)=>{wt(N,{get title(){return o.fsrs.title},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var B=l(l(w,!0));Ee(B,{get warning(){return a(n)},$$legacy:!0});var D=l(l(B,!0));be(D,t,H=>{kc(H,{get state(){return i()},openHelpModal:I=>f(Object.keys(o).indexOf(I)),$$legacy:!0})}),g(O,A)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(R,S)=>{qe(R,{title:"FSRS",get url(){return ce.DeckOptions.fsrs},slot:"tooltip",get fsrs(){return t()},helpSections:d,$$events:{mount:O=>{x(m,O.detail.modal),x(_,O.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}function Sc(r,e){ge(e,!1);let s=W(e,"html"),t=W(e,"mounted");tr(t()),me();var n=Me(),i=ee(n);ii(i,s,!1,!1),g(r,n),fe()}function xc(r){switch(r){case He.Seconds:return"s";case He.Minutes:return"m";case He.Hours:return"h";case He.Days:return"d";default:return""}}function Oc(r){switch(r){case"s":return He.Seconds;case"h":return He.Hours;case"d":return He.Days;default:return He.Minutes}}function Ac(r){const e=r*60;let s=ro(e);return[He.Months,He.Years].includes(s)&&(s=He.Days),`${Math.round(so(s,e))}${xc(s)}`}function Tc(r){const e=r.match(/(\d+)(.*)/);if(e){const[s,t,n]=e,i=Oc(n),c=no(i)*parseInt(t,10);return Math.min(c,2**31)/60}else return 0}function Rc(r){return r.map(Ac).join(" ")}function Dc(r){return r.split(" ").map(Tc).filter(e=>e)}var Ic=U('<input type="text" class="svelte-f5c9s0">');function Lc(r,e){ge(e,!1);let s=W(e,"value",4),t=M();function n(){s(Dc(this.value))}ie(()=>je(s()),()=>{x(t,Rc(s()))}),Le(),me();var i=Ic();Je(i),V(()=>rr(i,a(t))),Ce("blur",i,n,!1),g(r,i),fe()}var Ec=U('<div style="display: contents"><!></div> <div style="display: contents"><!></div>',1),Mc=U('<div style="display: contents"><!></div>',1);function ks(r,e){let s=W(e,"value",4),t=W(e,"defaultValue");var n=Mc(),i=ee(n);Oe(i,()=>({"--cols":13})),ke(i.lastChild,{children:(c,u)=>{var o=Ec(),d=ee(o);Oe(d,()=>({"--col-size":7})),tt(d.lastChild,{breakpoint:"xs",children:(_,f)=>{var R=Me(),S=ee(R);Ze(S,at(e),{}),g(_,R)},$$slots:{default:!0},$$legacy:!0}),L(d);var m=l(l(d,!0));Oe(m,()=>({"--col-size":6})),tt(m.lastChild,{breakpoint:"xs",children:(_,f)=>{lt(_,{children:(R,S)=>{Lc(R,{get value(){return s()},set value(O){s(O)},$$legacy:!0})},$$slots:{default:!0,revert:(R,S)=>{kt(R,{slot:"revert",get value(){return s()},set value(O){s(O)},get defaultValue(){return t()},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(m),g(c,o)},$$slots:{default:!0},$$legacy:!0}),L(i),g(r,n)}var Nc=U("<!> <!> <!> <!> <!> <!>",1);function Vc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(u,"$config",s),n=()=>oe(d,"$fsrs",s);let i=W(e,"state"),c=W(e,"api",8,()=>({}));const u=i().currentConfig,o=i().defaults,d=i().fsrs;let m=M(),_=M();const f={relearningSteps:{title:oi(),help:ui(),url:ce.DeckOptions.relearningSteps},minimumInterval:{title:ci(),help:di(),url:ce.DeckOptions.minimumInterval,sched:De.SM2},leechThreshold:{title:$i(),help:gi(),url:ce.Leeches.leeches},leechAction:{title:fi(),help:vi(),url:ce.Leeches.waiting}},R=Object.values(f);let S=M(),O=M();function C(w){a(S).show(),a(O).to(w)}ie(()=>(t(),n()),()=>{const w=t().relearnSteps.length?t().relearnSteps[t().relearnSteps.length-1]/60/24:0;x(m,!n()&&w>t().minimumLapseInterval?hi():""),x(_,n()&&w>=1?fs():"")}),Le(),me();var A=ae(()=>Nr());Ve(r,{get title(){return a(A)},children:(w,B)=>{Be(w,{slotHost:Q,get api(){return c()},children:(D,H)=>{var I=Nc(),v=ee(I);Q(v,{children:(E,T)=>{ks(E,{get value(){return t().relearnSteps},set value(b){J(u,k(t).relearnSteps=b,k(t))},get defaultValue(){return o.relearnSteps},children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("relearningSteps"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.relearningSteps.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var $=l(l(v,!0));Q($,{children:(E,T)=>{Ee(E,{get warning(){return a(_)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var N=l(l($,!0));be(N,()=>!n(),E=>{Q(E,{children:(T,b)=>{Ie(T,{get value(){return t().minimumLapseInterval},set value(z){J(u,k(t).minimumLapseInterval=z,k(t))},get defaultValue(){return o.minimumLapseInterval},min:1,children:(z,Y)=>{Z(z,{$$events:{click:()=>C(Object.keys(f).indexOf("minimumInterval"))},children:(te,j)=>{var F=X();V(()=>G(F,f.minimumInterval.title)),g(te,F)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})});var p=l(l(N,!0));Q(p,{children:(E,T)=>{Ee(E,{get warning(){return a(m)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var P=l(l(p,!0));Q(P,{children:(E,T)=>{Ie(E,{get value(){return t().leechThreshold},set value(b){J(u,k(t).leechThreshold=b,k(t))},get defaultValue(){return o.leechThreshold},min:1,children:(b,z)=>{Z(b,{$$events:{click:()=>C(Object.keys(f).indexOf("leechThreshold"))},children:(Y,te)=>{var j=X();V(()=>G(j,f.leechThreshold.title)),g(Y,j)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var y=l(l(P,!0));Q(y,{children:(E,T)=>{var b=ae(Iu);Qe(E,{get value(){return t().leechAction},set value(z){J(u,k(t).leechAction=z,k(t))},get defaultValue(){return o.leechAction},get choices(){return a(b)},breakpoint:"md",children:(z,Y)=>{Z(z,{$$events:{click:()=>C(Object.keys(f).indexOf("leechAction"))},children:(te,j)=>{var F=X();V(()=>G(F,f.leechAction.title)),g(te,F)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(D,I)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(w,B)=>{var D=ae(()=>Nr());qe(w,{get title(){return a(D)},get url(){return ce.DeckOptions.lapses},slot:"tooltip",get fsrs(){return n()},helpSections:R,$$events:{mount:H=>{x(S,H.detail.modal),x(O,H.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}var Fc=U("<!> <!> <!> <!>",1),Wc=U("<!> <!> <!> <!> <!>",1);function Hc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(d,"$config",s),n=()=>oe(_,"$fsrs",s),i=M(),c=M();let u=W(e,"state"),o=W(e,"api",8,()=>({}));const d=u().currentConfig,m=u().defaults,_=u().fsrs;let f=M(),R=M();const S={learningSteps:{title:mi(),help:pi(),url:ce.DeckOptions.learningSteps},graduatingInterval:{title:yi(),help:Ci(),url:ce.DeckOptions.graduatingInterval,sched:De.SM2},easyInterval:{title:wi(),help:_i(),url:ce.DeckOptions.easyInterval,sched:De.SM2},insertionOrder:{title:ki(),help:Pi(),url:ce.DeckOptions.insertionOrder}},O=Object.values(S);let C=M(),A=M();function w(D){a(C).show(),a(A).to(D)}ie(()=>(t(),n()),()=>{const D=t().learnSteps.length?t().learnSteps[t().learnSteps.length-1]/60/24:0;x(f,D>t().graduatingIntervalGood?bi():""),x(R,n()&&D>=1?fs():"")}),ie(()=>t(),()=>{x(i,t().graduatingIntervalGood>t().graduatingIntervalEasy?Si():"")}),ie(()=>t(),()=>{x(c,t().newCardInsertOrder==Qt.RANDOM?xi():"")}),Le(),me();var B=ae(()=>Vr());Ve(r,{get title(){return a(B)},children:(D,H)=>{Be(D,{slotHost:Q,get api(){return o()},children:(I,v)=>{var $=Wc(),N=ee($);Q(N,{children:(T,b)=>{ks(T,{get value(){return t().learnSteps},set value(z){J(d,k(t).learnSteps=z,k(t))},get defaultValue(){return m.learnSteps},children:(z,Y)=>{Z(z,{$$events:{click:()=>w(Object.keys(S).indexOf("learningSteps"))},children:(te,j)=>{var F=X();V(()=>G(F,S.learningSteps.title)),g(te,F)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var p=l(l(N,!0));Q(p,{children:(T,b)=>{Ee(T,{get warning(){return a(R)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var P=l(l(p,!0));be(P,()=>!n(),T=>{var b=Fc(),z=ee(b);Q(z,{children:(F,ve)=>{Ie(F,{get value(){return t().graduatingIntervalGood},set value(he){J(d,k(t).graduatingIntervalGood=he,k(t))},get defaultValue(){return m.graduatingIntervalGood},children:(he,de)=>{Z(he,{$$events:{click:()=>w(Object.keys(S).indexOf("graduatingInterval"))},children:(Se,se)=>{var $e=X();V(()=>G($e,S.graduatingInterval.title)),g(Se,$e)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var Y=l(l(z,!0));Q(Y,{children:(F,ve)=>{Ee(F,{get warning(){return a(f)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var te=l(l(Y,!0));Q(te,{children:(F,ve)=>{Ie(F,{get value(){return t().graduatingIntervalEasy},set value(he){J(d,k(t).graduatingIntervalEasy=he,k(t))},get defaultValue(){return m.graduatingIntervalEasy},children:(he,de)=>{Z(he,{$$events:{click:()=>w(Object.keys(S).indexOf("easyInterval"))},children:(Se,se)=>{var $e=X();V(()=>G($e,S.easyInterval.title)),g(Se,$e)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var j=l(l(te,!0));Q(j,{children:(F,ve)=>{Ee(F,{get warning(){return a(i)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(T,b)});var y=l(l(P,!0));Q(y,{children:(T,b)=>{var z=ae(Lu);Qe(T,{get value(){return t().newCardInsertOrder},set value(Y){J(d,k(t).newCardInsertOrder=Y,k(t))},get defaultValue(){return m.newCardInsertOrder},get choices(){return a(z)},breakpoint:"md",children:(Y,te)=>{Z(Y,{$$events:{click:()=>w(Object.keys(S).indexOf("insertionOrder"))},children:(j,F)=>{var ve=X();V(()=>G(ve,S.insertionOrder.title)),g(j,ve)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var E=l(l(y,!0));Q(E,{children:(T,b)=>{Ee(T,{get warning(){return a(c)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),g(I,$)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(D,H)=>{var I=ae(()=>Vr());qe(D,{get title(){return a(I)},get url(){return ce.DeckOptions.newCards},slot:"tooltip",helpSections:O,get fsrs(){return n()},$$events:{mount:v=>{x(C,v.detail.modal),x(A,v.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}var Bc=U('<div class="show-timer-switch" style="display: contents;"><!></div>'),zc=U('<div class="show-timer-switch" style="display: contents;"><!></div>'),Gc=U("<!> <!> <!> <!>",1);function jc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(u,"$config",s),n=M();let i=W(e,"state"),c=W(e,"api");const u=i().currentConfig,o=i().defaults,d={maximumAnswerSecs:{title:Oi(),help:Ai()},showAnswerTimer:{title:Ti(),help:Ri()},stopTimerOnAnswer:{title:Di(),help:Ii()}},m=Object.values(d);let _=M(),f=M();function R(O){a(_).show(),a(f).to(O)}ie(()=>t(),()=>{x(n,t().capAnswerTimeToSecs>600?Li():"")}),Le(),me();var S=ae(()=>Fr());Ve(r,{get title(){return a(S)},children:(O,C)=>{Be(O,{slotHost:Q,get api(){return c()},children:(A,w)=>{var B=Gc(),D=ee(B);Q(D,{children:($,N)=>{Ie($,{get value(){return t().capAnswerTimeToSecs},set value(p){J(u,k(t).capAnswerTimeToSecs=p,k(t))},get defaultValue(){return o.capAnswerTimeToSecs},min:1,max:7200,children:(p,P)=>{Z(p,{$$events:{click:()=>R(Object.keys(d).indexOf("maximumAnswerSecs"))},children:(y,E)=>{var T=X();V(()=>G(T,d.maximumAnswerSecs.title)),g(y,T)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var H=l(l(D,!0));Q(H,{children:($,N)=>{Ee($,{get warning(){return a(n)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var I=l(l(H,!0));Q(I,{children:($,N)=>{var p=Bc(),P=q(p);Ne(P,{get value(){return t().showTimer},set value(y){J(u,k(t).showTimer=y,k(t))},get defaultValue(){return o.showTimer},children:(y,E)=>{Z(y,{$$events:{click:()=>R(Object.keys(d).indexOf("showAnswerTimer"))},children:(T,b)=>{var z=X();V(()=>G(z,d.showAnswerTimer.title)),g(T,z)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(p),g($,p)},$$slots:{default:!0},$$legacy:!0});var v=l(l(I,!0));Q(v,{children:($,N)=>{var p=zc(),P=q(p);Ne(P,{get value(){return t().stopTimerOnAnswer},set value(y){J(u,k(t).stopTimerOnAnswer=y,k(t))},get defaultValue(){return o.stopTimerOnAnswer},children:(y,E)=>{Z(y,{$$events:{click:()=>R(Object.keys(d).indexOf("stopTimerOnAnswer"))},children:(T,b)=>{var z=X();V(()=>G(z,d.stopTimerOnAnswer.title)),g(T,z)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(p),g($,p)},$$slots:{default:!0},$$legacy:!0}),g(A,B)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0,tooltip:(O,C)=>{var A=ae(()=>Fr());qe(O,{get title(){return a(A)},get url(){return ce.DeckOptions.timer},slot:"tooltip",helpSections:m,$$events:{mount:w=>{x(_,w.detail.modal),x(f,w.detail.carousel)}},$$legacy:!0})}},$$legacy:!0}),fe()}var qc=U('<tr><td class="svelte-9pdz93"> </td><td class="svelte-9pdz93"><input type="radio"></td><td class="svelte-9pdz93"><input type="radio"></td><td class="svelte-9pdz93"><input type="radio"></td></tr>'),Uc=U('<div class="easy-days-settings svelte-9pdz93"><table class="svelte-9pdz93"><thead><tr><th class="svelte-9pdz93"></th><th class="svelte-9pdz93"> </th><th class="svelte-9pdz93"> </th><th class="svelte-9pdz93"> </th></tr></thead><tbody></tbody></table></div>');function Qc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(u,"$config",s),n=[];let i=W(e,"state"),c=W(e,"api");const u=i().currentConfig,o=i().defaults;t().easyDaysPercentages.length!==7&&J(u,k(t).easyDaysPercentages=o.easyDaysPercentages,k(t));const d=M([Ei(),Mi(),Ni(),Vi(),Fi(),Wi(),Hi()]);me();var m=ae(()=>ji());Ve(r,{get title(){return a(m)},children:(_,f)=>{Be(_,{slotHost:Q,get api(){return c()},children:(R,S)=>{Q(R,{children:(O,C)=>{var A=Uc(),w=q(A),B=q(w),D=q(B),H=q(D),I=l(H),v=q(I);V(()=>G(v,Bi())),L(I);var $=l(I),N=q($);V(()=>G(N,zi())),L($);var p=l($),P=q(p);V(()=>G(P,Gi())),L(p),L(D),L(B);var y=l(B);At(y,9,()=>a(d),sr,(E,T,b)=>{var z=qc(),Y=q(z),te=q(Y);L(Y);var j=l(Y),F=q(j);Je(F),F.value=(F.__value=1)==null?"":1,L(j);var ve=l(j),he=q(ve);Je(he),he.value=(he.__value=.5)==null?"":.5,L(ve);var de=l(ve),Se=q(de);Je(Se),Se.value=(Se.__value=0)==null?"":0,L(de),L(z),V(()=>{G(te,pe(T)),Gt(F,t().easyDaysPercentages[pe(b)]===1),Gt(he,t().easyDaysPercentages[pe(b)]===.5),Gt(Se,t().easyDaysPercentages[pe(b)]===0)}),jt(n,[pe(b)],F,()=>t().easyDaysPercentages[pe(b)],se=>J(u,k(t).easyDaysPercentages[pe(b)]=se,k(t))),jt(n,[pe(b)],he,()=>t().easyDaysPercentages[pe(b)],se=>J(u,k(t).easyDaysPercentages[pe(b)]=se,k(t))),jt(n,[pe(b)],Se,()=>t().easyDaysPercentages[pe(b)],se=>J(u,k(t).easyDaysPercentages[pe(b)]=se,k(t))),g(E,z)}),L(y),L(w),L(A),g(O,A)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),fe()}var Kc=U("<div><!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!> <!></div>",1),Yc=U('<!> <div class="deck-options-page svelte-htbfcn"><div style="display: contents"><!></div></div>',1);function Xc(r,e){ge(e,!1);const s=Pe(),t=()=>oe(i,"$addons",s);let n=W(e,"state");const i=n().addonComponents;function c(){return n().currentAuxData}function u($){et(i,[...t(),$])}function o($,N){et(i,[...t(),{component:Sc,html:$,mounted:N}])}const d={},m={},_={},f={},R={},S={},O={},C={},A={},w={};let B=M();me();var D=Yc(),H=ee(D);ec(H,{get state(){return n()},$$events:{presetchange(...$){const N=a(B);return N==null?void 0:N.apply(this,$)}},$$legacy:!0});var I=l(l(H,!0)),v=q(I);return Oe(v,()=>({"--gutter-inline":"0.25rem","--gutter-block":"0.75rem"})),Vn(v.lastChild,{breakpoint:"sm",class:"container-columns",children:($,N)=>{var p=Kc(),P=ee(p),y=q(P);ke(y,{class:"row-columns",children:(se,$e)=>{ac(se,{get state(){return n()},api:m,get onPresetChange(){return a(B)},set onPresetChange(ze){x(B,ze)},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var E=l(l(y,!0));ke(E,{class:"row-columns",children:(se,$e)=>{Hc(se,{get state(){return n()},api:_,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var T=l(l(E,!0));ke(T,{class:"row-columns",children:(se,$e)=>{Vc(se,{get state(){return n()},api:f,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var b=l(l(T,!0));ke(b,{class:"row-columns",children:(se,$e)=>{ic(se,{get state(){return n()},api:S,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var z=l(l(b,!0));ke(z,{class:"row-columns",children:(se,$e)=>{bc(se,{get state(){return n()},api:{},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(P);var Y=l(l(P,!0)),te=q(Y);ke(te,{class:"row-columns",children:(se,$e)=>{Hu(se,{get state(){return n()},api:R,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var j=l(l(te,!0));ke(j,{class:"row-columns",children:(se,$e)=>{Au(se,{get state(){return n()},api:C,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var F=l(l(j,!0));ke(F,{class:"row-columns",children:(se,$e)=>{jc(se,{get state(){return n()},api:O,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var ve=l(l(F,!0));ke(ve,{class:"row-columns",children:(se,$e)=>{Fu(se,{get state(){return n()},api:O,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var he=l(l(ve,!0));be(he,()=>t().length,se=>{ke(se,{class:"row-columns",children:($e,ze)=>{Yo($e,{get state(){return n()},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})});var de=l(l(he,!0));ke(de,{class:"row-columns",children:(se,$e)=>{Qc(se,{get state(){return n()},api:w,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0});var Se=l(l(de,!0));ke(Se,{class:"row-columns",children:(se,$e)=>{xu(se,{get state(){return n()},api:A,$$legacy:!0})},$$slots:{default:!0},$$legacy:!0}),L(Y),g($,p)},$$slots:{default:!0},$$legacy:!0}),L(v),L(I),g(r,D),Ae(e,"auxData",c),Ae(e,"addSvelteAddon",u),Ae(e,"addHtmlAddon",o),Ae(e,"options",d),Ae(e,"dailyLimits",m),Ae(e,"newOptions",_),Ae(e,"lapseOptions",f),Ae(e,"buryOptions",R),Ae(e,"displayOrder",S),Ae(e,"timerOptions",O),Ae(e,"audioOptions",C),Ae(e,"advancedOptions",A),Ae(e,"easyDays",w),fe({auxData:c,addSvelteAddon:u,addHtmlAddon:o,options:d,dailyLimits:m,newOptions:_,lapseOptions:f,buryOptions:R,displayOrder:S,timerOptions:O,audioOptions:C,advancedOptions:A,easyDays:w})}function Ld(r,e){ge(e,!1);let s=W(e,"data"),t=M();globalThis.anki||(globalThis.anki={}),globalThis.anki.deckOptionsPendingChanges=async()=>{await ws(),Gr()&&(s().state.isModified()?qt("confirmDiscardChanges"):qt("_close"))},tr(()=>{globalThis.$deckOptions=new Promise((n,i)=>{n(a(t))}),Gr()&&qt("deckOptionsReady")}),me(),Ct(Xc(r,{get state(){return s().state},$$legacy:!0}),n=>x(t,n),()=>a(t)),fe()}export{Ld as component,Id as universal};
