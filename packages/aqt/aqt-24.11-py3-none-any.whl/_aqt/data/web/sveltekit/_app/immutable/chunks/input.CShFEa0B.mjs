import{H as d,I as y,q}from"./runtime.BJSnJeWl.mjs";import{u as w}from"./runtime-require.XfVPIJtJ.mjs";import{g as k,i as A}from"./proxy.BMm3Qkis.mjs";import{h as g}from"./disclose-version.CXWUuFGG.mjs";function n(e,f,r,a=r){e.addEventListener(f,r);const _=e.__on_r;_?e.__on_r=()=>{_(),a()}:e.__on_r=a,w()}function H(e,f,r){n(e,"input",()=>{r(u(e)?b(e.value):e.value)}),d(()=>{var a=f();if(g&&e.defaultValue!==e.value){r(e.value);return}u(e)&&a===b(e.value)||e.type==="date"&&!a&&!e.value||(e.value=a!=null?a:"")})}function I(e,f,r,a,_){var l=r.getAttribute("type")==="checkbox",o=e;let i=!1;if(f!==null)for(var t of f){var h=o;o=h[t],o===void 0&&(o=h[t]=[])}o.push(r),n(r,"change",()=>{var c=r.__value;l&&(c=m(o,c,r.checked)),_(c)},()=>_(l?[]:null)),d(()=>{var c=a();if(g&&r.defaultChecked!==r.checked){i=!0;return}l?(c=c||[],r.checked=k(c).includes(k(r.__value))):r.checked=A(r.__value,c)}),y(()=>{var c=o.indexOf(r);c!==-1&&o.splice(c,1)}),q(()=>{if(o.sort((s,x)=>s.compareDocumentPosition(x)===4?-1:1),i){var c;if(l)c=m(o,c,r.checked);else{var v=o.find(s=>s.checked);c=v==null?void 0:v.__value}_(c)}})}function L(e,f,r){n(e,"change",()=>{var a=e.checked;r(a)}),f()==null&&r(!1),d(()=>{var a=f();e.checked=!!a})}function m(e,f,r){for(var a=new Set,_=0;_<e.length;_+=1)e[_].checked&&a.add(e[_].__value);return r||a.delete(f),Array.from(a)}function u(e){var f=e.type;return f==="number"||f==="range"}function b(e){return e===""?null:+e}export{H as a,I as b,L as c};
