import{i as q,C as n,h as w,E as A,q as i}from"./runtime.HDa-Uzkj.mjs";import{u as C}from"./runtime-require.BMNCZg22.mjs";import{g as m,i as E}from"./props.QYk8O08b.mjs";function u(e,f,r,_=r){e.addEventListener(f,r);const a=e.__on_r;a?e.__on_r=()=>{a(),_()}:e.__on_r=_,C()}function D(e,f,r=f){var _=q();u(e,"input",()=>{var a=b(e)?g(e.value):e.value;r(a),_&&a!==(a=f())&&(e.value=a!=null?a:"")}),n(()=>{var a=f();if(w&&e.defaultValue!==e.value){r(e.value);return}b(e)&&a===g(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a!=null?a:"")})}const d=new Set;function L(e,f,r,_,a=_){var k;var o=r.getAttribute("type")==="checkbox",l=e;let h=!1;if(f!==null)for(var s of f)l=(k=l[s])!=null?k:l[s]=[];l.push(r),u(r,"change",()=>{var c=r.__value;o&&(c=t(l,c,r.checked)),a(c)},()=>a(o?[]:null)),n(()=>{var c=_();if(w&&r.defaultChecked!==r.checked){h=!0;return}o?(c=c||[],r.checked=m(c).includes(m(r.__value))):r.checked=E(r.__value,c)}),A(()=>{var c=l.indexOf(r);c!==-1&&l.splice(c,1)}),d.has(l)||(d.add(l),i(()=>{l.sort((c,v)=>c.compareDocumentPosition(v)===4?-1:1),d.delete(l)})),i(()=>{if(h){var c;if(o)c=t(l,c,r.checked);else{var v=l.find(y=>y.checked);c=v==null?void 0:v.__value}a(c)}})}function O(e,f,r=f){u(e,"change",()=>{var _=e.checked;r(_)}),f()==null&&r(!1),n(()=>{var _=f();e.checked=!!_})}function t(e,f,r){for(var _=new Set,a=0;a<e.length;a+=1)e[a].checked&&_.add(e[a].__value);return r||_.delete(f),Array.from(_)}function b(e){var f=e.type;return f==="number"||f==="range"}function g(e){return e===""?null:+e}export{D as a,L as b,O as c};
